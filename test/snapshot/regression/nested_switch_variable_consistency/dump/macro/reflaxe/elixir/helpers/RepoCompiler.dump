class reflaxe.elixir.helpers.RepoCompiler {

	public static function isRepoClass[Function:(classType : haxe.macro.ClassType) -> Bool]
		[Arg:haxe.macro.ClassType] [Local classType(15723):haxe.macro.ClassType]
		[Block:Dynamic]
			[Return:Dynamic]
				[Call:Bool]
					[Field:(name : String) -> Bool]
						[Field:haxe.macro.MetaAccess]
							[Local classType(15723):haxe.macro.ClassType:haxe.macro.ClassType]
							[FAnon:haxe.macro.MetaAccess] meta:haxe.macro.MetaAccess
						[FAnon:(name : String) -> Bool] has:(name : String) -> Bool
					[Const:String] ":repo"

	public static function compileRepoModule[Function:(classType : haxe.macro.ClassType, className : String) -> String]
		[Arg:haxe.macro.ClassType] [Local classType(15728):haxe.macro.ClassType]
		[Arg:String] [Local className(15729):String]
		[Block:Dynamic]
			[Var result(15730):StringBuf] [New:StringBuf] StringBuf
			[Var appName(15731):String]
				[Call:String]
					[Field:(classType : haxe.macro.ClassType) -> String]
						[TypeExpr reflaxe.elixir.helpers.AnnotationSystem:Class<reflaxe.elixir.helpers.AnnotationSystem>]
						[FStatic:(classType : haxe.macro.ClassType) -> String]
							reflaxe.elixir.helpers.AnnotationSystem
							getEffectiveAppName:(classType : haxe.macro.ClassType) -> String
					[Local classType(15728):haxe.macro.ClassType:haxe.macro.ClassType]
			[Var otpApp(15732):String]
				[Call:String]
					[Field:(camelCase : String) -> String]
						[TypeExpr reflaxe.elixir.helpers.NamingHelper:Class<reflaxe.elixir.helpers.NamingHelper>]
						[FStatic:(camelCase : String) -> String]
							reflaxe.elixir.helpers.NamingHelper
							toSnakeCase:(camelCase : String) -> String
					[Local appName(15731):String:String]
			[Call:Void]
				[Field:(x : String) -> Void]
					[Local result(15730):StringBuf:StringBuf]
					[FInstance:(x : String) -> Void]
						StringBuf
						add:(x : add.T) -> Void
				[Binop:String]
					[Binop:String]
						[Const:String] "defmodule "
						+
						[Local className(15729):String:String]
					+
					[Const:String] " do\n"
			[Var docString(15733):String]
				[Binop:String]
					[Binop:String]
						[Const:String] "Database repository for "
						+
						[Local appName(15731):String:String]
					+
					[Const:String] "\n\n"
			[Binop:String]
				[Local docString(15733):String:String]
				+=
				[Const:String] "Provides type-safe database operations using Ecto patterns.\n"
			[Binop:String]
				[Local docString(15733):String:String]
				+=
				[Const:String] "Configured with PostgreSQL adapter and application-specific settings."
			[If:Void]
				[Binop:Bool]
					[Field:Null<String>]
						[Local classType(15728):haxe.macro.ClassType:haxe.macro.ClassType]
						[FAnon:Null<String>] doc:Null<String>
					!=
					[Const:Null<String>] null
				[Then:String] [Block:String]
					[Binop:String]
						[Local docString(15733):String:String]
						=
						[Field:Null<String>]
							[Local classType(15728):haxe.macro.ClassType:haxe.macro.ClassType]
							[FAnon:Null<String>] doc:Null<String>
			[Call:Void]
				[Field:(x : String) -> Void]
					[Local result(15730):StringBuf:StringBuf]
					[FInstance:(x : String) -> Void]
						StringBuf
						add:(x : add.T) -> Void
				[Binop:String]
					[Call:String]
						[Field:(docString : String, ?isModuleDoc : Bool, ?indentLevel : Int) -> String]
							[TypeExpr reflaxe.elixir.helpers.FormatHelper:Class<reflaxe.elixir.helpers.FormatHelper>]
							[FStatic:(docString : String, ?isModuleDoc : Bool, ?indentLevel : Int) -> String]
								reflaxe.elixir.helpers.FormatHelper
								formatDoc:(docString : String, ?isModuleDoc : Bool, ?indentLevel : Int) -> String
						[Local docString(15733):String:String]
						[Const:Bool] true
						[Const:Int] 1
					+
					[Const:String] "\n"
			[Call:Void]
				[Field:(x : String) -> Void]
					[Local result(15730):StringBuf:StringBuf]
					[FInstance:(x : String) -> Void]
						StringBuf
						add:(x : add.T) -> Void
				[Const:String] "  use Ecto.Repo,\n"
			[Call:Void]
				[Field:(x : String) -> Void]
					[Local result(15730):StringBuf:StringBuf]
					[FInstance:(x : String) -> Void]
						StringBuf
						add:(x : add.T) -> Void
				[Binop:String]
					[Binop:String]
						[Const:String] "    otp_app: :"
						+
						[Local otpApp(15732):String:String]
					+
					[Const:String] ",\n"
			[Call:Void]
				[Field:(x : String) -> Void]
					[Local result(15730):StringBuf:StringBuf]
					[FInstance:(x : String) -> Void]
						StringBuf
						add:(x : add.T) -> Void
				[Const:String] "    adapter: Ecto.Adapters.Postgres\n"
			[Call:Void]
				[Field:(x : String) -> Void]
					[Local result(15730):StringBuf:StringBuf]
					[FInstance:(x : String) -> Void]
						StringBuf
						add:(x : add.T) -> Void
				[Const:String] "end"
			[Return:Dynamic]
				[Call:String]
					[Field:() -> String]
						[Local result(15730):StringBuf:StringBuf]
						[FInstance:() -> String]
							StringBuf
							toString:() -> String

	public static function generateRepoConfig[Function:(appName : String) -> String]
		[Arg:String] [Local appName(16918):String]
		[Block:Dynamic]
			[Var otpApp(16919):String]
				[Call:String]
					[Field:(camelCase : String) -> String]
						[TypeExpr reflaxe.elixir.helpers.NamingHelper:Class<reflaxe.elixir.helpers.NamingHelper>]
						[FStatic:(camelCase : String) -> String]
							reflaxe.elixir.helpers.NamingHelper
							toSnakeCase:(camelCase : String) -> String
					[Local appName(16918):String:String]
			[Var repoModule(16920):String]
				[Binop:String]
					[Binop:String]
						[Const:String] ""
						+
						[Local appName(16918):String:String]
					+
					[Const:String] ".Repo"
			[Return:Dynamic]
				[Binop:String]
					[Binop:String]
						[Binop:String]
							[Binop:String]
								[Binop:String]
									[Binop:String]
										[Binop:String]
											[Binop:String]
												[Binop:String]
													[Binop:String]
														[Binop:String]
															[Const:String] "config :"
															+
															[Local otpApp(16919):String:String]
														+
														[Const:String] ", "
													+
													[Local repoModule(16920):String:String]
												+
												[Const:String] ",\n"
											+
											[Const:String] "  username: \"postgres\",\n"
										+
										[Const:String] "  password: \"postgres\",\n"
									+
									[Const:String] "  hostname: \"localhost\",\n"
								+
								[Binop:String]
									[Binop:String]
										[Const:String] "  database: \""
										+
										[Local otpApp(16919):String:String]
									+
									[Const:String] "_dev\",\n"
							+
							[Const:String] "  stacktrace: true,\n"
						+
						[Const:String] "  show_sensitive_data_on_connection_error: true,\n"
					+
					[Const:String] "  pool_size: 10"
}