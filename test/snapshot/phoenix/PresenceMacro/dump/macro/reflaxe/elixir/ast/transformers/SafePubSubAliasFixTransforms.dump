class reflaxe.elixir.ast.transformers.SafePubSubAliasFixTransforms {

	public static function fixPass(ast:reflaxe.elixir.ast.ElixirAST) {
		return reflaxe.elixir.ast.ElixirASTTransformer.transformNode(ast, function(n:reflaxe.elixir.ast.ElixirAST) {
			return @:ast(switch (n.def) {
	case EVar(v) if (v == "SafePubSub"):
		makeASTWithMeta(EVar("Phoenix.SafePubSub"), n.metadata, n.pos);	
	case ERemoteCall(mod, func, args):
		switch (mod.def) {
			case EVar(m) if (m == "SafePubSub"):
				makeASTWithMeta(ERemoteCall(makeAST(EVar("Phoenix.SafePubSub")), func, args), n.metadata, n.pos);			
			default:
				n;			
		};	
	case ECall(tgt, func, args):
		if (tgt != null) switch (tgt.def) {
			case EVar(m) if (m == "SafePubSub"):
				makeASTWithMeta(ERemoteCall(makeAST(EVar("Phoenix.SafePubSub")), func, args), n.metadata, n.pos);			
			default:
				n;			
		} else n;	
	case ERaw(code):
		if (code != null && code.indexOf("SafePubSub.") != -1) {
			var out = code.split("SafePubSub.").join("Phoenix.SafePubSub.");
			makeASTWithMeta(ERaw(out), n.metadata, n.pos);
		} else n;	
	default:
		n;	
}) {
				var ` = n.def;
				switch (enumIndex `) {
					case 22: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var tgt = `;
							var func = `;
							var args = `;
							{
								if (tgt != null) {
									@:ast(switch (tgt.def) {
	case EVar(m) if (m == "SafePubSub"):
		makeASTWithMeta(ERemoteCall(makeAST(EVar("Phoenix.SafePubSub")), func, args), n.metadata, n.pos);	
	default:
		n;	
}) {
										var ` = tgt.def;
										if (enumIndex ` == 38) {
											var ` = `[0];
											{
												var m = `;
												if (m == "SafePubSub") {
													{def : reflaxe.elixir.ast.ElixirASTDef.ERemoteCall({
														var pos = null;
														{def : reflaxe.elixir.ast.ElixirASTDef.EVar("Phoenix.SafePubSub"), metadata : {}, pos : pos};
													}, func, args), metadata : n.metadata, pos : n.pos};
												} else {
													n;
												};
											};
										} else {
											n;
										};
									};
								} else {
									n;
								};
							};
						};
					};
					case 24: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var mod = `;
							var func = `;
							var args = `;
							{
								@:ast(switch (mod.def) {
	case EVar(m) if (m == "SafePubSub"):
		makeASTWithMeta(ERemoteCall(makeAST(EVar("Phoenix.SafePubSub")), func, args), n.metadata, n.pos);	
	default:
		n;	
}) {
									var ` = mod.def;
									if (enumIndex ` == 38) {
										var ` = `[0];
										{
											var m = `;
											if (m == "SafePubSub") {
												{def : reflaxe.elixir.ast.ElixirASTDef.ERemoteCall({
													var pos = null;
													{def : reflaxe.elixir.ast.ElixirASTDef.EVar("Phoenix.SafePubSub"), metadata : {}, pos : pos};
												}, func, args), metadata : n.metadata, pos : n.pos};
											} else {
												n;
											};
										};
									} else {
										n;
									};
								};
							};
						};
					};
					case 38: {
						var ` = `[0];
						{
							var v = `;
							if (v == "SafePubSub") {
								{def : reflaxe.elixir.ast.ElixirASTDef.EVar("Phoenix.SafePubSub"), metadata : n.metadata, pos : n.pos};
							} else {
								n;
							};
						};
					};
					case 62: {
						var ` = `[0];
						{
							var code = `;
							{
								if (code != null && code.indexOf("SafePubSub.", null) != -1) {
									var out = code.split("SafePubSub.").join("Phoenix.SafePubSub.");
									{def : reflaxe.elixir.ast.ElixirASTDef.ERaw(out), metadata : n.metadata, pos : n.pos};
								} else {
									n;
								};
							};
						};
					};
					default: {
						n;
					}
				};
			};
		});
	}
}