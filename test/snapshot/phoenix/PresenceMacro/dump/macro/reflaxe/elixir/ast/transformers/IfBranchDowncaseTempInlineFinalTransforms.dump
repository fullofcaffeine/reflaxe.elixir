class reflaxe.elixir.ast.transformers.IfBranchDowncaseTempInlineFinalTransforms {

	public static function pass(ast:reflaxe.elixir.ast.ElixirAST) {
		return reflaxe.elixir.ast.ElixirASTTransformer.transformNode(ast, function(n:reflaxe.elixir.ast.ElixirAST) {
			return @:ast(switch (n.def) {
	case EIf(cond, thenE, elseE):
		var t2 = inlineDowncaseBlock(thenE);
		var e2 = (elseE == null) ? null : inlineDowncaseBlock(elseE);
		if (t2 != thenE || e2 != elseE) makeASTWithMeta(EIf(cond, t2, e2), n.metadata, n.pos) else n;	
	default:
		n;	
}) {
				var ` = n.def;
				if (enumIndex ` == 10) {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var cond = `;
						var thenE = `;
						var elseE = `;
						{
							var t2 = reflaxe.elixir.ast.transformers.IfBranchDowncaseTempInlineFinalTransforms.inlineDowncaseBlock(thenE);
							var e2 = if ((elseE == null)) {
								null;
							} else {
								reflaxe.elixir.ast.transformers.IfBranchDowncaseTempInlineFinalTransforms.inlineDowncaseBlock(elseE);
							};
							if (t2 != thenE || e2 != elseE) {
								{def : reflaxe.elixir.ast.ElixirASTDef.EIf(cond, t2, e2), metadata : n.metadata, pos : n.pos};
							} else {
								n;
							};
						};
					};
				} else {
					n;
				};
			};
		});
	}

	static function inlineDowncaseBlock(branch:reflaxe.elixir.ast.ElixirAST) {
		return @:ast(switch (branch.def) {
	case EBlock(stmts):
		var arr = stmts;
		if (arr != null && arr.length == 2) {
			var tmpName:Null<String> = null;
			var rhs:Null<ElixirAST> = null;
			switch (arr[0].def) {
				case EBinary(Match, { def : EVar(nm) }, r) if (nm != null && nm.length > 1 && nm.charAt(0) == "_"):
					tmpName = nm;
					rhs = r;				
				case EMatch(PVar(nm2), r2) if (nm2 != null && nm2.length > 1 && nm2.charAt(0) == "_"):
					tmpName = nm2;
					rhs = r2;				
				default:
			};
			if (tmpName != null && rhs != null) {
				switch (arr[1].def) {
					case ERemoteCall({ def : EVar("String") }, fn, args) if (fn == "downcase" && args != null && args.length == 1):
						switch (args[0].def) {
							case EVar(v) if (v == tmpName):
								return makeASTWithMeta(ERemoteCall(makeAST(EVar("String")), "downcase", [rhs]), branch.metadata, branch.pos);							
							default:
						};					
					default:
				};
			};
		};
		branch;	
	case EDo(stmts2):
		var arr2 = stmts2;
		if (arr2 != null && arr2.length == 2) {
			var tmp2:Null<String> = null;
			var rhs2:Null<ElixirAST> = null;
			switch (arr2[0].def) {
				case EBinary(Match, { def : EVar(nm3) }, r3) if (nm3 != null && nm3.length > 1 && nm3.charAt(0) == "_"):
					tmp2 = nm3;
					rhs2 = r3;				
				case EMatch(PVar(nm4), r4) if (nm4 != null && nm4.length > 1 && nm4.charAt(0) == "_"):
					tmp2 = nm4;
					rhs2 = r4;				
				default:
			};
			if (tmp2 != null && rhs2 != null) {
				switch (arr2[1].def) {
					case ERemoteCall({ def : EVar("String") }, fn2, args2) if (fn2 == "downcase" && args2 != null && args2.length == 1):
						switch (args2[0].def) {
							case EVar(v2) if (v2 == tmp2):
								return makeASTWithMeta(ERemoteCall(makeAST(EVar("String")), "downcase", [rhs2]), branch.metadata, branch.pos);							
							default:
						};					
					default:
				};
			};
		};
		branch;	
	default:
		branch;	
}) {
			var ` = branch.def;
			switch (enumIndex `) {
				case 53: {
					var ` = `[0];
					{
						var stmts = `;
						{
							var arr = stmts;
							if (arr != null && arr.length == 2) {
								var tmpName = null;
								var rhs = null;
								@:ast(switch (arr[0].def) {
	case EBinary(Match, { def : EVar(nm) }, r) if (nm != null && nm.length > 1 && nm.charAt(0) == "_"):
		tmpName = nm;
		rhs = r;	
	case EMatch(PVar(nm2), r2) if (nm2 != null && nm2.length > 1 && nm2.charAt(0) == "_"):
		tmpName = nm2;
		rhs = r2;	
	default:
}) {
									var ` = arr[0].def;
									switch (enumIndex `) {
										case 8: {
											var ` = `[0];
											var ` = `[1];
											if (enumIndex ` == 0) {
												var ` = `[0];
												{
													var nm2 = `;
													var r2 = `;
													if (nm2 != null && nm2.length > 1 && nm2.charAt(0) == "_") {
														tmpName = nm2;
														rhs = r2;
													} else {};
												};
											} else {};
										};
										case 26: {
											var ` = `[0];
											var ` = `[1];
											var ` = `[2];
											if (enumIndex ` == 27) {
												{
													var ` = `.def;
													var ` = `.metadata;
													var ` = `.pos;
													if (enumIndex ` == 38) {
														var ` = `[0];
														{
															var nm = `;
															var r = `;
															if (nm != null && nm.length > 1 && nm.charAt(0) == "_") {
																tmpName = nm;
																rhs = r;
															} else {};
														};
													} else {};
												};
											} else {};
										};
										default: {}
									};
								};
								if (tmpName != null && rhs != null) {
									@:ast(switch (arr[1].def) {
	case ERemoteCall({ def : EVar("String") }, fn, args) if (fn == "downcase" && args != null && args.length == 1):
		switch (args[0].def) {
			case EVar(v) if (v == tmpName):
				return makeASTWithMeta(ERemoteCall(makeAST(EVar("String")), "downcase", [rhs]), branch.metadata, branch.pos);			
			default:
		};	
	default:
}) {
										var ` = arr[1].def;
										if (enumIndex ` == 24) {
											var ` = `[0];
											var ` = `[1];
											var ` = `[2];
											{
												var ` = `.def;
												var ` = `.metadata;
												var ` = `.pos;
												if (enumIndex ` == 38) {
													var ` = `[0];
													if (` == "String") {
														{
															var fn = `;
															var args = `;
															if (fn == "downcase" && args != null && args.length == 1) {
																@:ast(switch (args[0].def) {
	case EVar(v) if (v == tmpName):
		return makeASTWithMeta(ERemoteCall(makeAST(EVar("String")), "downcase", [rhs]), branch.metadata, branch.pos);	
	default:
}) {
																	var ` = args[0].def;
																	if (enumIndex ` == 38) {
																		var ` = `[0];
																		{
																			var v = `;
																			if (v == tmpName) {
																				return {def : reflaxe.elixir.ast.ElixirASTDef.ERemoteCall({
																					var pos = null;
																					{def : reflaxe.elixir.ast.ElixirASTDef.EVar("String"), metadata : {}, pos : pos};
																				}, "downcase", [rhs]), metadata : branch.metadata, pos : branch.pos};
																			} else {};
																		};
																	} else {};
																};
															} else {};
														};
													} else {};
												} else {};
											};
										} else {};
									};
								};
							};
							branch;
						};
					};
				};
				case 55: {
					var ` = `[0];
					{
						var stmts2 = `;
						{
							var arr2 = stmts2;
							if (arr2 != null && arr2.length == 2) {
								var tmp2 = null;
								var rhs2 = null;
								@:ast(switch (arr2[0].def) {
	case EBinary(Match, { def : EVar(nm3) }, r3) if (nm3 != null && nm3.length > 1 && nm3.charAt(0) == "_"):
		tmp2 = nm3;
		rhs2 = r3;	
	case EMatch(PVar(nm4), r4) if (nm4 != null && nm4.length > 1 && nm4.charAt(0) == "_"):
		tmp2 = nm4;
		rhs2 = r4;	
	default:
}) {
									var ` = arr2[0].def;
									switch (enumIndex `) {
										case 8: {
											var ` = `[0];
											var ` = `[1];
											if (enumIndex ` == 0) {
												var ` = `[0];
												{
													var nm4 = `;
													var r4 = `;
													if (nm4 != null && nm4.length > 1 && nm4.charAt(0) == "_") {
														tmp2 = nm4;
														rhs2 = r4;
													} else {};
												};
											} else {};
										};
										case 26: {
											var ` = `[0];
											var ` = `[1];
											var ` = `[2];
											if (enumIndex ` == 27) {
												{
													var ` = `.def;
													var ` = `.metadata;
													var ` = `.pos;
													if (enumIndex ` == 38) {
														var ` = `[0];
														{
															var nm3 = `;
															var r3 = `;
															if (nm3 != null && nm3.length > 1 && nm3.charAt(0) == "_") {
																tmp2 = nm3;
																rhs2 = r3;
															} else {};
														};
													} else {};
												};
											} else {};
										};
										default: {}
									};
								};
								if (tmp2 != null && rhs2 != null) {
									@:ast(switch (arr2[1].def) {
	case ERemoteCall({ def : EVar("String") }, fn2, args2) if (fn2 == "downcase" && args2 != null && args2.length == 1):
		switch (args2[0].def) {
			case EVar(v2) if (v2 == tmp2):
				return makeASTWithMeta(ERemoteCall(makeAST(EVar("String")), "downcase", [rhs2]), branch.metadata, branch.pos);			
			default:
		};	
	default:
}) {
										var ` = arr2[1].def;
										if (enumIndex ` == 24) {
											var ` = `[0];
											var ` = `[1];
											var ` = `[2];
											{
												var ` = `.def;
												var ` = `.metadata;
												var ` = `.pos;
												if (enumIndex ` == 38) {
													var ` = `[0];
													if (` == "String") {
														{
															var fn2 = `;
															var args2 = `;
															if (fn2 == "downcase" && args2 != null && args2.length == 1) {
																@:ast(switch (args2[0].def) {
	case EVar(v2) if (v2 == tmp2):
		return makeASTWithMeta(ERemoteCall(makeAST(EVar("String")), "downcase", [rhs2]), branch.metadata, branch.pos);	
	default:
}) {
																	var ` = args2[0].def;
																	if (enumIndex ` == 38) {
																		var ` = `[0];
																		{
																			var v2 = `;
																			if (v2 == tmp2) {
																				return {def : reflaxe.elixir.ast.ElixirASTDef.ERemoteCall({
																					var pos = null;
																					{def : reflaxe.elixir.ast.ElixirASTDef.EVar("String"), metadata : {}, pos : pos};
																				}, "downcase", [rhs2]), metadata : branch.metadata, pos : branch.pos};
																			} else {};
																		};
																	} else {};
																};
															} else {};
														};
													} else {};
												} else {};
											};
										} else {};
									};
								};
							};
							branch;
						};
					};
				};
				default: {
					branch;
				}
			};
		};
	}
}