class reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms {

	public static function pass(ast:reflaxe.elixir.ast.ElixirAST) {
		return reflaxe.elixir.ast.ElixirASTTransformer.transformNode(ast, function(n:reflaxe.elixir.ast.ElixirAST) {
			return @:ast(switch (n.def) {
	case EModule(name, attrs, body) if (name != null && StringTools.endsWith(name, "Live")):
		var newBody = body.map(apply);
		makeASTWithMeta(EModule(name, attrs, newBody), n.metadata, n.pos);	
	case EDefmodule(name, doBlock) if (name != null && StringTools.endsWith(name, "Live")):
		makeASTWithMeta(EDefmodule(name, apply(doBlock)), n.metadata, n.pos);	
	default:
		n;	
}) {
				var ` = n.def;
				switch (enumIndex `) {
					case 0: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var name = `;
							var attrs = `;
							var body = `;
							if (name != null && StringTools.endsWith(name, "Live")) {
								var newBody = {
									var f = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.apply;
									{
										var ` = [];
										{
											var ` = 0;
											var ` = body;
											while (` < `.length) {
												var v = `[`];
												++ `;
												`.push(f(v));
											};
										};
										`;
									};
								};
								{def : reflaxe.elixir.ast.ElixirASTDef.EModule(name, attrs, newBody), metadata : n.metadata, pos : n.pos};
							} else {
								n;
							};
						};
					};
					case 1: {
						var ` = `[0];
						var ` = `[1];
						{
							var name = `;
							var doBlock = `;
							if (name != null && StringTools.endsWith(name, "Live")) {
								{
									var def = reflaxe.elixir.ast.ElixirASTDef.EDefmodule(name, reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.apply(doBlock));
									var meta = n.metadata;
									var pos = n.pos;
									{def : def, metadata : meta, pos : pos};
								};
							} else {
								n;
							};
						};
					};
					default: {
						n;
					}
				};
			};
		});
	}

	static function apply(node:reflaxe.elixir.ast.ElixirAST) {
		return reflaxe.elixir.ast.ElixirASTTransformer.transformNode(node, function(e:reflaxe.elixir.ast.ElixirAST) {
			return @:ast(switch (e.def) {
	case EDef(fname, args, guards, body):
		var b = body;
		switch (b.def) {
			case EBlock(stmts):
				var declared = new Map<String,Bool>();
				for (a  in  args) switch (a) {
					case PVar(nm):
						declared.set(nm, true);					
					default:
				};
				for (s  in  stmts) switch (s.def) {
					case EMatch(PVar(n), _):
						declared.set(n, true);					
					case EBinary(Match, left, _):
						switch (left.def) {
							case EVar(n2):
								declared.set(n2, true);							
							default:
						};					
					default:
				};
				var out:Array<ElixirAST> = [];
				var i = 0;
				while (i < stmts.length) {
					var s = stmts[i];
					switch (s.def) {
						case EMatch(PWildcard, rhs):
							var promoted = tryPromoteWildcard(rhs, stmts, i, declared);
							if (promoted != null) {
								out.push(promoted);
							} else {
								var candidates = collectTargetedCandidates(stmts, i, declared, 4);
								if (candidates.length == 0) {
									candidates = collectUndeclaredRefs(stmts, i + 1, declared);
								};
								if (candidates.length == 1) {
									var name = candidates[0];
									out.push(makeASTWithMeta(EMatch(PVar(name), rhs), s.metadata, s.pos));
									declared.set(name, true);
								} else out.push(s);
							};						
						case EBinary(Match, left, rhs2):
							var isWild = switch (left.def) {
								case EVar(vn) if (vn == "_"):
									true;								
								case EUnderscore:
									true;								
								default:
									false;								
							};
							if (isWild) {
								var promoted2 = tryPromoteWildcardBinary(rhs2, stmts, i, declared, s.metadata, s.pos);
								if (promoted2 != null) {
									out.push(promoted2);
								} else {
									var cands2 = collectTargetedCandidates(stmts, i, declared, 4);
									if (cands2.length == 0) cands2 = collectUndeclaredRefs(stmts, i + 1, declared);
									if (cands2.length == 1) {
										var nm2 = cands2[0];
										out.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs2), s.metadata, s.pos));
										declared.set(nm2, true);
									} else out.push(s);
								};
							} else out.push(s);						
						default:
							out.push(s);						
					};
					i++;
				};
				makeASTWithMeta(EDef(fname, args, guards, makeAST(ElixirASTDef.EBlock(out))), e.metadata, e.pos);			
			case EDo(stmts2):
				var declared2 = new Map<String,Bool>();
				for (a  in  args) switch (a) {
					case PVar(nm):
						declared2.set(nm, true);					
					default:
				};
				for (s  in  stmts2) switch (s.def) {
					case EMatch(PVar(n3), _):
						declared2.set(n3, true);					
					case EBinary(Match, left3, _):
						switch (left3.def) {
							case EVar(n4):
								declared2.set(n4, true);							
							default:
						};					
					default:
				};
				var out2:Array<ElixirAST> = [];
				var i = 0;
				while (i < stmts2.length) {
					var s2 = stmts2[i];
					switch (s2.def) {
						case EMatch(PWildcard, rhs5):
							var p1 = tryPromoteWildcard(rhs5, stmts2, i, declared2);
							if (p1 != null) {
								out2.push(p1);
							} else {
								var c1 = collectTargetedCandidates(stmts2, i, declared2, 4);
								if (c1.length == 0) c1 = collectUndeclaredRefs(stmts2, i + 1, declared2);
								if (c1.length == 1) {
									var nm = c1[0];
									out2.push(makeASTWithMeta(EMatch(PVar(nm), rhs5), s2.metadata, s2.pos));
									declared2.set(nm, true);
								} else out2.push(s2);
							};						
						case EBinary(Match, left4, rhs6):
							var isWild2 = switch (left4.def) {
								case EVar(v4) if (v4 == "_"):
									true;								
								case EUnderscore:
									true;								
								default:
									false;								
							};
							if (isWild2) {
								var p2 = tryPromoteWildcardBinary(rhs6, stmts2, i, declared2, s2.metadata, s2.pos);
								if (p2 != null) {
									out2.push(p2);
								} else {
									var c2 = collectTargetedCandidates(stmts2, i, declared2, 4);
									if (c2.length == 0) c2 = collectUndeclaredRefs(stmts2, i + 1, declared2);
									if (c2.length == 1) {
										var nm2 = c2[0];
										out2.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs6), s2.metadata, s2.pos));
										declared2.set(nm2, true);
									} else out2.push(s2);
								};
							} else out2.push(s2);						
						default:
							out2.push(s2);						
					};
					i++;
				};
				makeASTWithMeta(EDef(fname, args, guards, makeAST(ElixirASTDef.EDo(out2))), e.metadata, e.pos);			
			default:
				e;			
		};	
	case EDefp(fname2, args2, guards2, body2):
		var b2 = body2;
		switch (b2.def) {
			case EBlock(stmts):
				var declared = new Map<String,Bool>();
				for (a  in  args2) switch (a) {
					case PVar(nm):
						declared.set(nm, true);					
					default:
				};
				for (s  in  stmts) switch (s.def) {
					case EMatch(PVar(n), _):
						declared.set(n, true);					
					case EBinary(Match, left, _):
						switch (left.def) {
							case EVar(n2):
								declared.set(n2, true);							
							default:
						};					
					default:
				};
				var out:Array<ElixirAST> = [];
				var i = 0;
				while (i < stmts.length) {
					var s = stmts[i];
					switch (s.def) {
						case EMatch(PWildcard, rhs):
							var promoted = tryPromoteWildcard(rhs, stmts, i, declared);
							if (promoted != null) {
								out.push(promoted);
							} else {
								var candidates = collectTargetedCandidates(stmts, i, declared, 4);
								if (candidates.length == 0) candidates = collectUndeclaredRefs(stmts, i + 1, declared);
								if (candidates.length == 1) {
									var name = candidates[0];
									out.push(makeASTWithMeta(EMatch(PVar(name), rhs), s.metadata, s.pos));
									declared.set(name, true);
								} else out.push(s);
							};						
						case EBinary(Match, left, rhs2):
							var isWild = switch (left.def) {
								case EVar(vn) if (vn == "_"):
									true;								
								case EUnderscore:
									true;								
								default:
									false;								
							};
							if (isWild) {
								var promoted2 = tryPromoteWildcardBinary(rhs2, stmts, i, declared, s.metadata, s.pos);
								if (promoted2 != null) {
									out.push(promoted2);
								} else {
									var cands2 = collectTargetedCandidates(stmts, i, declared, 4);
									if (cands2.length == 0) cands2 = collectUndeclaredRefs(stmts, i + 1, declared);
									if (cands2.length == 1) {
										var nm2 = cands2[0];
										out.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs2), s.metadata, s.pos));
										declared.set(nm2, true);
									} else out.push(s);
								};
							} else out.push(s);						
						default:
							out.push(s);						
					};
					i++;
				};
				makeASTWithMeta(EDefp(fname2, args2, guards2, makeAST(ElixirASTDef.EBlock(out))), e.metadata, e.pos);			
			case EDo(stmts2):
				var declared2 = new Map<String,Bool>();
				for (a  in  args2) switch (a) {
					case PVar(nm):
						declared2.set(nm, true);					
					default:
				};
				for (s  in  stmts2) switch (s.def) {
					case EMatch(PVar(n3), _):
						declared2.set(n3, true);					
					case EBinary(Match, left3, _):
						switch (left3.def) {
							case EVar(n4):
								declared2.set(n4, true);							
							default:
						};					
					default:
				};
				var out2:Array<ElixirAST> = [];
				for (i  in  0 ... stmts2.length) {
					var s2 = stmts2[i];
					switch (s2.def) {
						case EMatch(PWildcard, rhs5):
							var p1 = tryPromoteWildcard(rhs5, stmts2, i, declared2);
							if (p1 != null) {
								out2.push(p1);
							} else {
								var c1 = collectTargetedCandidates(stmts2, i, declared2, 4);
								if (c1.length == 0) c1 = collectUndeclaredRefs(stmts2, i + 1, declared2);
								if (c1.length == 1) {
									var nm = c1[0];
									out2.push(makeASTWithMeta(EMatch(PVar(nm), rhs5), s2.metadata, s2.pos));
									declared2.set(nm, true);
								} else out2.push(s2);
							};						
						case EBinary(Match, left4, rhs6):
							var isWild2 = switch (left4.def) {
								case EVar(v4) if (v4 == "_"):
									true;								
								case EUnderscore:
									true;								
								default:
									false;								
							};
							if (isWild2) {
								var p2 = tryPromoteWildcardBinary(rhs6, stmts2, i, declared2, s2.metadata, s2.pos);
								if (p2 != null) {
									out2.push(p2);
								} else {
									var c2 = collectTargetedCandidates(stmts2, i, declared2, 4);
									if (c2.length == 0) c2 = collectUndeclaredRefs(stmts2, i + 1, declared2);
									if (c2.length == 1) {
										var nm2 = c2[0];
										out2.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs6), s2.metadata, s2.pos));
										declared2.set(nm2, true);
									} else out2.push(s2);
								};
							} else out2.push(s2);						
						default:
							out2.push(s2);						
					};
				};
				makeASTWithMeta(EDefp(fname2, args2, guards2, makeAST(ElixirASTDef.EDo(out2))), e.metadata, e.pos);			
			default:
				e;			
		};	
	default:
		e;	
}) {
				var ` = e.def;
				switch (enumIndex `) {
					case 2: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						var ` = `[3];
						{
							var fname = `;
							var args = `;
							var guards = `;
							var body = `;
							{
								var b = body;
								@:ast(switch (b.def) {
	case EBlock(stmts):
		var declared = new Map<String,Bool>();
		for (a  in  args) switch (a) {
			case PVar(nm):
				declared.set(nm, true);			
			default:
		};
		for (s  in  stmts) switch (s.def) {
			case EMatch(PVar(n), _):
				declared.set(n, true);			
			case EBinary(Match, left, _):
				switch (left.def) {
					case EVar(n2):
						declared.set(n2, true);					
					default:
				};			
			default:
		};
		var out:Array<ElixirAST> = [];
		var i = 0;
		while (i < stmts.length) {
			var s = stmts[i];
			switch (s.def) {
				case EMatch(PWildcard, rhs):
					var promoted = tryPromoteWildcard(rhs, stmts, i, declared);
					if (promoted != null) {
						out.push(promoted);
					} else {
						var candidates = collectTargetedCandidates(stmts, i, declared, 4);
						if (candidates.length == 0) {
							candidates = collectUndeclaredRefs(stmts, i + 1, declared);
						};
						if (candidates.length == 1) {
							var name = candidates[0];
							out.push(makeASTWithMeta(EMatch(PVar(name), rhs), s.metadata, s.pos));
							declared.set(name, true);
						} else out.push(s);
					};				
				case EBinary(Match, left, rhs2):
					var isWild = switch (left.def) {
						case EVar(vn) if (vn == "_"):
							true;						
						case EUnderscore:
							true;						
						default:
							false;						
					};
					if (isWild) {
						var promoted2 = tryPromoteWildcardBinary(rhs2, stmts, i, declared, s.metadata, s.pos);
						if (promoted2 != null) {
							out.push(promoted2);
						} else {
							var cands2 = collectTargetedCandidates(stmts, i, declared, 4);
							if (cands2.length == 0) cands2 = collectUndeclaredRefs(stmts, i + 1, declared);
							if (cands2.length == 1) {
								var nm2 = cands2[0];
								out.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs2), s.metadata, s.pos));
								declared.set(nm2, true);
							} else out.push(s);
						};
					} else out.push(s);				
				default:
					out.push(s);				
			};
			i++;
		};
		makeASTWithMeta(EDef(fname, args, guards, makeAST(ElixirASTDef.EBlock(out))), e.metadata, e.pos);	
	case EDo(stmts2):
		var declared2 = new Map<String,Bool>();
		for (a  in  args) switch (a) {
			case PVar(nm):
				declared2.set(nm, true);			
			default:
		};
		for (s  in  stmts2) switch (s.def) {
			case EMatch(PVar(n3), _):
				declared2.set(n3, true);			
			case EBinary(Match, left3, _):
				switch (left3.def) {
					case EVar(n4):
						declared2.set(n4, true);					
					default:
				};			
			default:
		};
		var out2:Array<ElixirAST> = [];
		var i = 0;
		while (i < stmts2.length) {
			var s2 = stmts2[i];
			switch (s2.def) {
				case EMatch(PWildcard, rhs5):
					var p1 = tryPromoteWildcard(rhs5, stmts2, i, declared2);
					if (p1 != null) {
						out2.push(p1);
					} else {
						var c1 = collectTargetedCandidates(stmts2, i, declared2, 4);
						if (c1.length == 0) c1 = collectUndeclaredRefs(stmts2, i + 1, declared2);
						if (c1.length == 1) {
							var nm = c1[0];
							out2.push(makeASTWithMeta(EMatch(PVar(nm), rhs5), s2.metadata, s2.pos));
							declared2.set(nm, true);
						} else out2.push(s2);
					};				
				case EBinary(Match, left4, rhs6):
					var isWild2 = switch (left4.def) {
						case EVar(v4) if (v4 == "_"):
							true;						
						case EUnderscore:
							true;						
						default:
							false;						
					};
					if (isWild2) {
						var p2 = tryPromoteWildcardBinary(rhs6, stmts2, i, declared2, s2.metadata, s2.pos);
						if (p2 != null) {
							out2.push(p2);
						} else {
							var c2 = collectTargetedCandidates(stmts2, i, declared2, 4);
							if (c2.length == 0) c2 = collectUndeclaredRefs(stmts2, i + 1, declared2);
							if (c2.length == 1) {
								var nm2 = c2[0];
								out2.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs6), s2.metadata, s2.pos));
								declared2.set(nm2, true);
							} else out2.push(s2);
						};
					} else out2.push(s2);				
				default:
					out2.push(s2);				
			};
			i++;
		};
		makeASTWithMeta(EDef(fname, args, guards, makeAST(ElixirASTDef.EDo(out2))), e.metadata, e.pos);	
	default:
		e;	
}) {
									var ` = b.def;
									switch (enumIndex `) {
										case 53: {
											var ` = `[0];
											{
												var stmts = `;
												{
													var declared = {
														{};
														new haxe.ds.StringMap();
													};
													{
														var ` = 0;
														while (` < args.length) {
															var a = args[`];
															++ `;
															@:ast(switch (a) {
	case PVar(nm):
		declared.set(nm, true);	
	default:
}) if (enumIndex a == 0) {
																var ` = a[0];
																{
																	var nm = `;
																	{
																		{
																			declared.set(nm, true);
																		};
																	};
																};
															} else {};
														};
													};
													{
														var ` = 0;
														while (` < stmts.length) {
															var s = stmts[`];
															++ `;
															@:ast(switch (s.def) {
	case EMatch(PVar(n), _):
		declared.set(n, true);	
	case EBinary(Match, left, _):
		switch (left.def) {
			case EVar(n2):
				declared.set(n2, true);			
			default:
		};	
	default:
}) {
																var ` = s.def;
																switch (enumIndex `) {
																	case 8: {
																		var ` = `[0];
																		var ` = `[1];
																		if (enumIndex ` == 0) {
																			var ` = `[0];
																			{
																				var n = `;
																				{
																					{
																						declared.set(n, true);
																					};
																				};
																			};
																		} else {};
																	};
																	case 26: {
																		var ` = `[0];
																		var ` = `[1];
																		var ` = `[2];
																		if (enumIndex ` == 27) {
																			{
																				var left = `;
																				{
																					@:ast(switch (left.def) {
	case EVar(n2):
		declared.set(n2, true);	
	default:
}) {
																						var ` = left.def;
																						if (enumIndex ` == 38) {
																							var ` = `[0];
																							{
																								var n2 = `;
																								{
																									{
																										declared.set(n2, true);
																									};
																								};
																							};
																						} else {};
																					};
																				};
																			};
																		} else {};
																	};
																	default: {}
																};
															};
														};
													};
													var out = [];
													var i = 0;
													while (i < stmts.length) {
														var s = stmts[i];
														@:ast(switch (s.def) {
	case EMatch(PWildcard, rhs):
		var promoted = tryPromoteWildcard(rhs, stmts, i, declared);
		if (promoted != null) {
			out.push(promoted);
		} else {
			var candidates = collectTargetedCandidates(stmts, i, declared, 4);
			if (candidates.length == 0) {
				candidates = collectUndeclaredRefs(stmts, i + 1, declared);
			};
			if (candidates.length == 1) {
				var name = candidates[0];
				out.push(makeASTWithMeta(EMatch(PVar(name), rhs), s.metadata, s.pos));
				declared.set(name, true);
			} else out.push(s);
		};	
	case EBinary(Match, left, rhs2):
		var isWild = switch (left.def) {
			case EVar(vn) if (vn == "_"):
				true;			
			case EUnderscore:
				true;			
			default:
				false;			
		};
		if (isWild) {
			var promoted2 = tryPromoteWildcardBinary(rhs2, stmts, i, declared, s.metadata, s.pos);
			if (promoted2 != null) {
				out.push(promoted2);
			} else {
				var cands2 = collectTargetedCandidates(stmts, i, declared, 4);
				if (cands2.length == 0) cands2 = collectUndeclaredRefs(stmts, i + 1, declared);
				if (cands2.length == 1) {
					var nm2 = cands2[0];
					out.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs2), s.metadata, s.pos));
					declared.set(nm2, true);
				} else out.push(s);
			};
		} else out.push(s);	
	default:
		out.push(s);	
}) {
															var ` = s.def;
															switch (enumIndex `) {
																case 8: {
																	var ` = `[0];
																	var ` = `[1];
																	if (enumIndex ` == 8) {
																		{
																			var rhs = `;
																			{
																				var promoted = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.tryPromoteWildcard(rhs, stmts, i, declared);
																				if (promoted != null) {
																					out.push(promoted);
																				} else {
																					var candidates = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectTargetedCandidates(stmts, i, declared, 4);
																					if (candidates.length == 0) {
																						candidates = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectUndeclaredRefs(stmts, i + 1, declared);
																					};
																					if (candidates.length == 1) {
																						var name = candidates[0];
																						out.push({def : reflaxe.elixir.ast.ElixirASTDef.EMatch(reflaxe.elixir.ast.EPattern.PVar(name), rhs), metadata : s.metadata, pos : s.pos});
																						{
																							declared.set(name, true);
																						};
																					} else {
																						out.push(s);
																					};
																				};
																			};
																		};
																	} else {
																		out.push(s);
																	};
																};
																case 26: {
																	var ` = `[0];
																	var ` = `[1];
																	var ` = `[2];
																	if (enumIndex ` == 27) {
																		{
																			var left = `;
																			var rhs2 = `;
																			{
																				var isWild = @:ast(switch (left.def) {
	case EVar(vn) if (vn == "_"):
		true;	
	case EUnderscore:
		true;	
	default:
		false;	
}) {
																					var ` = left.def;
																					switch (enumIndex `) {
																						case 38: {
																							var ` = `[0];
																							{
																								var vn = `;
																								if (vn == "_") {
																									true;
																								} else {
																									false;
																								};
																							};
																						};
																						case 40: {
																							{
																								true;
																							};
																						};
																						default: {
																							false;
																						}
																					};
																				};
																				if (isWild) {
																					var promoted2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.tryPromoteWildcardBinary(rhs2, stmts, i, declared, s.metadata, s.pos);
																					if (promoted2 != null) {
																						out.push(promoted2);
																					} else {
																						var cands2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectTargetedCandidates(stmts, i, declared, 4);
																						if (cands2.length == 0) {
																							cands2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectUndeclaredRefs(stmts, i + 1, declared);
																						};
																						if (cands2.length == 1) {
																							var nm2 = cands2[0];
																							out.push({def : reflaxe.elixir.ast.ElixirASTDef.EBinary(reflaxe.elixir.ast.EBinaryOp.Match, {
																								var pos = null;
																								{def : reflaxe.elixir.ast.ElixirASTDef.EVar(nm2), metadata : {}, pos : pos};
																							}, rhs2), metadata : s.metadata, pos : s.pos});
																							{
																								declared.set(nm2, true);
																							};
																						} else {
																							out.push(s);
																						};
																					};
																				} else {
																					out.push(s);
																				};
																			};
																		};
																	} else {
																		out.push(s);
																	};
																};
																default: {
																	out.push(s);
																}
															};
														};
														i ++;
													};
													{def : reflaxe.elixir.ast.ElixirASTDef.EDef(fname, args, guards, {
														var pos = null;
														{def : reflaxe.elixir.ast.ElixirASTDef.EBlock(out), metadata : {}, pos : pos};
													}), metadata : e.metadata, pos : e.pos};
												};
											};
										};
										case 55: {
											var ` = `[0];
											{
												var stmts2 = `;
												{
													var declared2 = {
														{};
														new haxe.ds.StringMap();
													};
													{
														var ` = 0;
														while (` < args.length) {
															var a = args[`];
															++ `;
															@:ast(switch (a) {
	case PVar(nm):
		declared2.set(nm, true);	
	default:
}) if (enumIndex a == 0) {
																var ` = a[0];
																{
																	var nm = `;
																	{
																		{
																			declared2.set(nm, true);
																		};
																	};
																};
															} else {};
														};
													};
													{
														var ` = 0;
														while (` < stmts2.length) {
															var s = stmts2[`];
															++ `;
															@:ast(switch (s.def) {
	case EMatch(PVar(n3), _):
		declared2.set(n3, true);	
	case EBinary(Match, left3, _):
		switch (left3.def) {
			case EVar(n4):
				declared2.set(n4, true);			
			default:
		};	
	default:
}) {
																var ` = s.def;
																switch (enumIndex `) {
																	case 8: {
																		var ` = `[0];
																		var ` = `[1];
																		if (enumIndex ` == 0) {
																			var ` = `[0];
																			{
																				var n3 = `;
																				{
																					{
																						declared2.set(n3, true);
																					};
																				};
																			};
																		} else {};
																	};
																	case 26: {
																		var ` = `[0];
																		var ` = `[1];
																		var ` = `[2];
																		if (enumIndex ` == 27) {
																			{
																				var left3 = `;
																				{
																					@:ast(switch (left3.def) {
	case EVar(n4):
		declared2.set(n4, true);	
	default:
}) {
																						var ` = left3.def;
																						if (enumIndex ` == 38) {
																							var ` = `[0];
																							{
																								var n4 = `;
																								{
																									{
																										declared2.set(n4, true);
																									};
																								};
																							};
																						} else {};
																					};
																				};
																			};
																		} else {};
																	};
																	default: {}
																};
															};
														};
													};
													var out2 = [];
													var i = 0;
													while (i < stmts2.length) {
														var s2 = stmts2[i];
														@:ast(switch (s2.def) {
	case EMatch(PWildcard, rhs5):
		var p1 = tryPromoteWildcard(rhs5, stmts2, i, declared2);
		if (p1 != null) {
			out2.push(p1);
		} else {
			var c1 = collectTargetedCandidates(stmts2, i, declared2, 4);
			if (c1.length == 0) c1 = collectUndeclaredRefs(stmts2, i + 1, declared2);
			if (c1.length == 1) {
				var nm = c1[0];
				out2.push(makeASTWithMeta(EMatch(PVar(nm), rhs5), s2.metadata, s2.pos));
				declared2.set(nm, true);
			} else out2.push(s2);
		};	
	case EBinary(Match, left4, rhs6):
		var isWild2 = switch (left4.def) {
			case EVar(v4) if (v4 == "_"):
				true;			
			case EUnderscore:
				true;			
			default:
				false;			
		};
		if (isWild2) {
			var p2 = tryPromoteWildcardBinary(rhs6, stmts2, i, declared2, s2.metadata, s2.pos);
			if (p2 != null) {
				out2.push(p2);
			} else {
				var c2 = collectTargetedCandidates(stmts2, i, declared2, 4);
				if (c2.length == 0) c2 = collectUndeclaredRefs(stmts2, i + 1, declared2);
				if (c2.length == 1) {
					var nm2 = c2[0];
					out2.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs6), s2.metadata, s2.pos));
					declared2.set(nm2, true);
				} else out2.push(s2);
			};
		} else out2.push(s2);	
	default:
		out2.push(s2);	
}) {
															var ` = s2.def;
															switch (enumIndex `) {
																case 8: {
																	var ` = `[0];
																	var ` = `[1];
																	if (enumIndex ` == 8) {
																		{
																			var rhs5 = `;
																			{
																				var p1 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.tryPromoteWildcard(rhs5, stmts2, i, declared2);
																				if (p1 != null) {
																					out2.push(p1);
																				} else {
																					var c1 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectTargetedCandidates(stmts2, i, declared2, 4);
																					if (c1.length == 0) {
																						c1 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectUndeclaredRefs(stmts2, i + 1, declared2);
																					};
																					if (c1.length == 1) {
																						var nm = c1[0];
																						out2.push({def : reflaxe.elixir.ast.ElixirASTDef.EMatch(reflaxe.elixir.ast.EPattern.PVar(nm), rhs5), metadata : s2.metadata, pos : s2.pos});
																						{
																							declared2.set(nm, true);
																						};
																					} else {
																						out2.push(s2);
																					};
																				};
																			};
																		};
																	} else {
																		out2.push(s2);
																	};
																};
																case 26: {
																	var ` = `[0];
																	var ` = `[1];
																	var ` = `[2];
																	if (enumIndex ` == 27) {
																		{
																			var left4 = `;
																			var rhs6 = `;
																			{
																				var isWild2 = @:ast(switch (left4.def) {
	case EVar(v4) if (v4 == "_"):
		true;	
	case EUnderscore:
		true;	
	default:
		false;	
}) {
																					var ` = left4.def;
																					switch (enumIndex `) {
																						case 38: {
																							var ` = `[0];
																							{
																								var v4 = `;
																								if (v4 == "_") {
																									true;
																								} else {
																									false;
																								};
																							};
																						};
																						case 40: {
																							{
																								true;
																							};
																						};
																						default: {
																							false;
																						}
																					};
																				};
																				if (isWild2) {
																					var p2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.tryPromoteWildcardBinary(rhs6, stmts2, i, declared2, s2.metadata, s2.pos);
																					if (p2 != null) {
																						out2.push(p2);
																					} else {
																						var c2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectTargetedCandidates(stmts2, i, declared2, 4);
																						if (c2.length == 0) {
																							c2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectUndeclaredRefs(stmts2, i + 1, declared2);
																						};
																						if (c2.length == 1) {
																							var nm2 = c2[0];
																							out2.push({def : reflaxe.elixir.ast.ElixirASTDef.EBinary(reflaxe.elixir.ast.EBinaryOp.Match, {
																								var pos = null;
																								{def : reflaxe.elixir.ast.ElixirASTDef.EVar(nm2), metadata : {}, pos : pos};
																							}, rhs6), metadata : s2.metadata, pos : s2.pos});
																							{
																								declared2.set(nm2, true);
																							};
																						} else {
																							out2.push(s2);
																						};
																					};
																				} else {
																					out2.push(s2);
																				};
																			};
																		};
																	} else {
																		out2.push(s2);
																	};
																};
																default: {
																	out2.push(s2);
																}
															};
														};
														i ++;
													};
													{def : reflaxe.elixir.ast.ElixirASTDef.EDef(fname, args, guards, {
														var pos = null;
														{def : reflaxe.elixir.ast.ElixirASTDef.EDo(out2), metadata : {}, pos : pos};
													}), metadata : e.metadata, pos : e.pos};
												};
											};
										};
										default: {
											e;
										}
									};
								};
							};
						};
					};
					case 3: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						var ` = `[3];
						{
							var fname2 = `;
							var args2 = `;
							var guards2 = `;
							var body2 = `;
							{
								var b2 = body2;
								@:ast(switch (b2.def) {
	case EBlock(stmts):
		var declared = new Map<String,Bool>();
		for (a  in  args2) switch (a) {
			case PVar(nm):
				declared.set(nm, true);			
			default:
		};
		for (s  in  stmts) switch (s.def) {
			case EMatch(PVar(n), _):
				declared.set(n, true);			
			case EBinary(Match, left, _):
				switch (left.def) {
					case EVar(n2):
						declared.set(n2, true);					
					default:
				};			
			default:
		};
		var out:Array<ElixirAST> = [];
		var i = 0;
		while (i < stmts.length) {
			var s = stmts[i];
			switch (s.def) {
				case EMatch(PWildcard, rhs):
					var promoted = tryPromoteWildcard(rhs, stmts, i, declared);
					if (promoted != null) {
						out.push(promoted);
					} else {
						var candidates = collectTargetedCandidates(stmts, i, declared, 4);
						if (candidates.length == 0) candidates = collectUndeclaredRefs(stmts, i + 1, declared);
						if (candidates.length == 1) {
							var name = candidates[0];
							out.push(makeASTWithMeta(EMatch(PVar(name), rhs), s.metadata, s.pos));
							declared.set(name, true);
						} else out.push(s);
					};				
				case EBinary(Match, left, rhs2):
					var isWild = switch (left.def) {
						case EVar(vn) if (vn == "_"):
							true;						
						case EUnderscore:
							true;						
						default:
							false;						
					};
					if (isWild) {
						var promoted2 = tryPromoteWildcardBinary(rhs2, stmts, i, declared, s.metadata, s.pos);
						if (promoted2 != null) {
							out.push(promoted2);
						} else {
							var cands2 = collectTargetedCandidates(stmts, i, declared, 4);
							if (cands2.length == 0) cands2 = collectUndeclaredRefs(stmts, i + 1, declared);
							if (cands2.length == 1) {
								var nm2 = cands2[0];
								out.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs2), s.metadata, s.pos));
								declared.set(nm2, true);
							} else out.push(s);
						};
					} else out.push(s);				
				default:
					out.push(s);				
			};
			i++;
		};
		makeASTWithMeta(EDefp(fname2, args2, guards2, makeAST(ElixirASTDef.EBlock(out))), e.metadata, e.pos);	
	case EDo(stmts2):
		var declared2 = new Map<String,Bool>();
		for (a  in  args2) switch (a) {
			case PVar(nm):
				declared2.set(nm, true);			
			default:
		};
		for (s  in  stmts2) switch (s.def) {
			case EMatch(PVar(n3), _):
				declared2.set(n3, true);			
			case EBinary(Match, left3, _):
				switch (left3.def) {
					case EVar(n4):
						declared2.set(n4, true);					
					default:
				};			
			default:
		};
		var out2:Array<ElixirAST> = [];
		for (i  in  0 ... stmts2.length) {
			var s2 = stmts2[i];
			switch (s2.def) {
				case EMatch(PWildcard, rhs5):
					var p1 = tryPromoteWildcard(rhs5, stmts2, i, declared2);
					if (p1 != null) {
						out2.push(p1);
					} else {
						var c1 = collectTargetedCandidates(stmts2, i, declared2, 4);
						if (c1.length == 0) c1 = collectUndeclaredRefs(stmts2, i + 1, declared2);
						if (c1.length == 1) {
							var nm = c1[0];
							out2.push(makeASTWithMeta(EMatch(PVar(nm), rhs5), s2.metadata, s2.pos));
							declared2.set(nm, true);
						} else out2.push(s2);
					};				
				case EBinary(Match, left4, rhs6):
					var isWild2 = switch (left4.def) {
						case EVar(v4) if (v4 == "_"):
							true;						
						case EUnderscore:
							true;						
						default:
							false;						
					};
					if (isWild2) {
						var p2 = tryPromoteWildcardBinary(rhs6, stmts2, i, declared2, s2.metadata, s2.pos);
						if (p2 != null) {
							out2.push(p2);
						} else {
							var c2 = collectTargetedCandidates(stmts2, i, declared2, 4);
							if (c2.length == 0) c2 = collectUndeclaredRefs(stmts2, i + 1, declared2);
							if (c2.length == 1) {
								var nm2 = c2[0];
								out2.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs6), s2.metadata, s2.pos));
								declared2.set(nm2, true);
							} else out2.push(s2);
						};
					} else out2.push(s2);				
				default:
					out2.push(s2);				
			};
		};
		makeASTWithMeta(EDefp(fname2, args2, guards2, makeAST(ElixirASTDef.EDo(out2))), e.metadata, e.pos);	
	default:
		e;	
}) {
									var ` = b2.def;
									switch (enumIndex `) {
										case 53: {
											var ` = `[0];
											{
												var stmts = `;
												{
													var declared = {
														{};
														new haxe.ds.StringMap();
													};
													{
														var ` = 0;
														while (` < args2.length) {
															var a = args2[`];
															++ `;
															@:ast(switch (a) {
	case PVar(nm):
		declared.set(nm, true);	
	default:
}) if (enumIndex a == 0) {
																var ` = a[0];
																{
																	var nm = `;
																	{
																		{
																			declared.set(nm, true);
																		};
																	};
																};
															} else {};
														};
													};
													{
														var ` = 0;
														while (` < stmts.length) {
															var s = stmts[`];
															++ `;
															@:ast(switch (s.def) {
	case EMatch(PVar(n), _):
		declared.set(n, true);	
	case EBinary(Match, left, _):
		switch (left.def) {
			case EVar(n2):
				declared.set(n2, true);			
			default:
		};	
	default:
}) {
																var ` = s.def;
																switch (enumIndex `) {
																	case 8: {
																		var ` = `[0];
																		var ` = `[1];
																		if (enumIndex ` == 0) {
																			var ` = `[0];
																			{
																				var n = `;
																				{
																					{
																						declared.set(n, true);
																					};
																				};
																			};
																		} else {};
																	};
																	case 26: {
																		var ` = `[0];
																		var ` = `[1];
																		var ` = `[2];
																		if (enumIndex ` == 27) {
																			{
																				var left = `;
																				{
																					@:ast(switch (left.def) {
	case EVar(n2):
		declared.set(n2, true);	
	default:
}) {
																						var ` = left.def;
																						if (enumIndex ` == 38) {
																							var ` = `[0];
																							{
																								var n2 = `;
																								{
																									{
																										declared.set(n2, true);
																									};
																								};
																							};
																						} else {};
																					};
																				};
																			};
																		} else {};
																	};
																	default: {}
																};
															};
														};
													};
													var out = [];
													var i = 0;
													while (i < stmts.length) {
														var s = stmts[i];
														@:ast(switch (s.def) {
	case EMatch(PWildcard, rhs):
		var promoted = tryPromoteWildcard(rhs, stmts, i, declared);
		if (promoted != null) {
			out.push(promoted);
		} else {
			var candidates = collectTargetedCandidates(stmts, i, declared, 4);
			if (candidates.length == 0) candidates = collectUndeclaredRefs(stmts, i + 1, declared);
			if (candidates.length == 1) {
				var name = candidates[0];
				out.push(makeASTWithMeta(EMatch(PVar(name), rhs), s.metadata, s.pos));
				declared.set(name, true);
			} else out.push(s);
		};	
	case EBinary(Match, left, rhs2):
		var isWild = switch (left.def) {
			case EVar(vn) if (vn == "_"):
				true;			
			case EUnderscore:
				true;			
			default:
				false;			
		};
		if (isWild) {
			var promoted2 = tryPromoteWildcardBinary(rhs2, stmts, i, declared, s.metadata, s.pos);
			if (promoted2 != null) {
				out.push(promoted2);
			} else {
				var cands2 = collectTargetedCandidates(stmts, i, declared, 4);
				if (cands2.length == 0) cands2 = collectUndeclaredRefs(stmts, i + 1, declared);
				if (cands2.length == 1) {
					var nm2 = cands2[0];
					out.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs2), s.metadata, s.pos));
					declared.set(nm2, true);
				} else out.push(s);
			};
		} else out.push(s);	
	default:
		out.push(s);	
}) {
															var ` = s.def;
															switch (enumIndex `) {
																case 8: {
																	var ` = `[0];
																	var ` = `[1];
																	if (enumIndex ` == 8) {
																		{
																			var rhs = `;
																			{
																				var promoted = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.tryPromoteWildcard(rhs, stmts, i, declared);
																				if (promoted != null) {
																					out.push(promoted);
																				} else {
																					var candidates = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectTargetedCandidates(stmts, i, declared, 4);
																					if (candidates.length == 0) {
																						candidates = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectUndeclaredRefs(stmts, i + 1, declared);
																					};
																					if (candidates.length == 1) {
																						var name = candidates[0];
																						out.push({def : reflaxe.elixir.ast.ElixirASTDef.EMatch(reflaxe.elixir.ast.EPattern.PVar(name), rhs), metadata : s.metadata, pos : s.pos});
																						{
																							declared.set(name, true);
																						};
																					} else {
																						out.push(s);
																					};
																				};
																			};
																		};
																	} else {
																		out.push(s);
																	};
																};
																case 26: {
																	var ` = `[0];
																	var ` = `[1];
																	var ` = `[2];
																	if (enumIndex ` == 27) {
																		{
																			var left = `;
																			var rhs2 = `;
																			{
																				var isWild = @:ast(switch (left.def) {
	case EVar(vn) if (vn == "_"):
		true;	
	case EUnderscore:
		true;	
	default:
		false;	
}) {
																					var ` = left.def;
																					switch (enumIndex `) {
																						case 38: {
																							var ` = `[0];
																							{
																								var vn = `;
																								if (vn == "_") {
																									true;
																								} else {
																									false;
																								};
																							};
																						};
																						case 40: {
																							{
																								true;
																							};
																						};
																						default: {
																							false;
																						}
																					};
																				};
																				if (isWild) {
																					var promoted2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.tryPromoteWildcardBinary(rhs2, stmts, i, declared, s.metadata, s.pos);
																					if (promoted2 != null) {
																						out.push(promoted2);
																					} else {
																						var cands2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectTargetedCandidates(stmts, i, declared, 4);
																						if (cands2.length == 0) {
																							cands2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectUndeclaredRefs(stmts, i + 1, declared);
																						};
																						if (cands2.length == 1) {
																							var nm2 = cands2[0];
																							out.push({def : reflaxe.elixir.ast.ElixirASTDef.EBinary(reflaxe.elixir.ast.EBinaryOp.Match, {
																								var pos = null;
																								{def : reflaxe.elixir.ast.ElixirASTDef.EVar(nm2), metadata : {}, pos : pos};
																							}, rhs2), metadata : s.metadata, pos : s.pos});
																							{
																								declared.set(nm2, true);
																							};
																						} else {
																							out.push(s);
																						};
																					};
																				} else {
																					out.push(s);
																				};
																			};
																		};
																	} else {
																		out.push(s);
																	};
																};
																default: {
																	out.push(s);
																}
															};
														};
														i ++;
													};
													{def : reflaxe.elixir.ast.ElixirASTDef.EDefp(fname2, args2, guards2, {
														var pos = null;
														{def : reflaxe.elixir.ast.ElixirASTDef.EBlock(out), metadata : {}, pos : pos};
													}), metadata : e.metadata, pos : e.pos};
												};
											};
										};
										case 55: {
											var ` = `[0];
											{
												var stmts2 = `;
												{
													var declared2 = {
														{};
														new haxe.ds.StringMap();
													};
													{
														var ` = 0;
														while (` < args2.length) {
															var a = args2[`];
															++ `;
															@:ast(switch (a) {
	case PVar(nm):
		declared2.set(nm, true);	
	default:
}) if (enumIndex a == 0) {
																var ` = a[0];
																{
																	var nm = `;
																	{
																		{
																			declared2.set(nm, true);
																		};
																	};
																};
															} else {};
														};
													};
													{
														var ` = 0;
														while (` < stmts2.length) {
															var s = stmts2[`];
															++ `;
															@:ast(switch (s.def) {
	case EMatch(PVar(n3), _):
		declared2.set(n3, true);	
	case EBinary(Match, left3, _):
		switch (left3.def) {
			case EVar(n4):
				declared2.set(n4, true);			
			default:
		};	
	default:
}) {
																var ` = s.def;
																switch (enumIndex `) {
																	case 8: {
																		var ` = `[0];
																		var ` = `[1];
																		if (enumIndex ` == 0) {
																			var ` = `[0];
																			{
																				var n3 = `;
																				{
																					{
																						declared2.set(n3, true);
																					};
																				};
																			};
																		} else {};
																	};
																	case 26: {
																		var ` = `[0];
																		var ` = `[1];
																		var ` = `[2];
																		if (enumIndex ` == 27) {
																			{
																				var left3 = `;
																				{
																					@:ast(switch (left3.def) {
	case EVar(n4):
		declared2.set(n4, true);	
	default:
}) {
																						var ` = left3.def;
																						if (enumIndex ` == 38) {
																							var ` = `[0];
																							{
																								var n4 = `;
																								{
																									{
																										declared2.set(n4, true);
																									};
																								};
																							};
																						} else {};
																					};
																				};
																			};
																		} else {};
																	};
																	default: {}
																};
															};
														};
													};
													var out2 = [];
													{
														var ` = 0;
														var ` = stmts2.length;
														while (` < `) {
															var i = ` ++;
															var s2 = stmts2[i];
															@:ast(switch (s2.def) {
	case EMatch(PWildcard, rhs5):
		var p1 = tryPromoteWildcard(rhs5, stmts2, i, declared2);
		if (p1 != null) {
			out2.push(p1);
		} else {
			var c1 = collectTargetedCandidates(stmts2, i, declared2, 4);
			if (c1.length == 0) c1 = collectUndeclaredRefs(stmts2, i + 1, declared2);
			if (c1.length == 1) {
				var nm = c1[0];
				out2.push(makeASTWithMeta(EMatch(PVar(nm), rhs5), s2.metadata, s2.pos));
				declared2.set(nm, true);
			} else out2.push(s2);
		};	
	case EBinary(Match, left4, rhs6):
		var isWild2 = switch (left4.def) {
			case EVar(v4) if (v4 == "_"):
				true;			
			case EUnderscore:
				true;			
			default:
				false;			
		};
		if (isWild2) {
			var p2 = tryPromoteWildcardBinary(rhs6, stmts2, i, declared2, s2.metadata, s2.pos);
			if (p2 != null) {
				out2.push(p2);
			} else {
				var c2 = collectTargetedCandidates(stmts2, i, declared2, 4);
				if (c2.length == 0) c2 = collectUndeclaredRefs(stmts2, i + 1, declared2);
				if (c2.length == 1) {
					var nm2 = c2[0];
					out2.push(makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(nm2)), rhs6), s2.metadata, s2.pos));
					declared2.set(nm2, true);
				} else out2.push(s2);
			};
		} else out2.push(s2);	
	default:
		out2.push(s2);	
}) {
																var ` = s2.def;
																switch (enumIndex `) {
																	case 8: {
																		var ` = `[0];
																		var ` = `[1];
																		if (enumIndex ` == 8) {
																			{
																				var rhs5 = `;
																				{
																					var p1 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.tryPromoteWildcard(rhs5, stmts2, i, declared2);
																					if (p1 != null) {
																						out2.push(p1);
																					} else {
																						var c1 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectTargetedCandidates(stmts2, i, declared2, 4);
																						if (c1.length == 0) {
																							c1 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectUndeclaredRefs(stmts2, i + 1, declared2);
																						};
																						if (c1.length == 1) {
																							var nm = c1[0];
																							out2.push({def : reflaxe.elixir.ast.ElixirASTDef.EMatch(reflaxe.elixir.ast.EPattern.PVar(nm), rhs5), metadata : s2.metadata, pos : s2.pos});
																							{
																								declared2.set(nm, true);
																							};
																						} else {
																							out2.push(s2);
																						};
																					};
																				};
																			};
																		} else {
																			out2.push(s2);
																		};
																	};
																	case 26: {
																		var ` = `[0];
																		var ` = `[1];
																		var ` = `[2];
																		if (enumIndex ` == 27) {
																			{
																				var left4 = `;
																				var rhs6 = `;
																				{
																					var isWild2 = @:ast(switch (left4.def) {
	case EVar(v4) if (v4 == "_"):
		true;	
	case EUnderscore:
		true;	
	default:
		false;	
}) {
																						var ` = left4.def;
																						switch (enumIndex `) {
																							case 38: {
																								var ` = `[0];
																								{
																									var v4 = `;
																									if (v4 == "_") {
																										true;
																									} else {
																										false;
																									};
																								};
																							};
																							case 40: {
																								{
																									true;
																								};
																							};
																							default: {
																								false;
																							}
																						};
																					};
																					if (isWild2) {
																						var p2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.tryPromoteWildcardBinary(rhs6, stmts2, i, declared2, s2.metadata, s2.pos);
																						if (p2 != null) {
																							out2.push(p2);
																						} else {
																							var c2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectTargetedCandidates(stmts2, i, declared2, 4);
																							if (c2.length == 0) {
																								c2 = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectUndeclaredRefs(stmts2, i + 1, declared2);
																							};
																							if (c2.length == 1) {
																								var nm2 = c2[0];
																								out2.push({def : reflaxe.elixir.ast.ElixirASTDef.EBinary(reflaxe.elixir.ast.EBinaryOp.Match, {
																									var pos = null;
																									{def : reflaxe.elixir.ast.ElixirASTDef.EVar(nm2), metadata : {}, pos : pos};
																								}, rhs6), metadata : s2.metadata, pos : s2.pos});
																								{
																									declared2.set(nm2, true);
																								};
																							} else {
																								out2.push(s2);
																							};
																						};
																					} else {
																						out2.push(s2);
																					};
																				};
																			};
																		} else {
																			out2.push(s2);
																		};
																	};
																	default: {
																		out2.push(s2);
																	}
																};
															};
														};
													};
													{def : reflaxe.elixir.ast.ElixirASTDef.EDefp(fname2, args2, guards2, {
														var pos = null;
														{def : reflaxe.elixir.ast.ElixirASTDef.EDo(out2), metadata : {}, pos : pos};
													}), metadata : e.metadata, pos : e.pos};
												};
											};
										};
										default: {
											e;
										}
									};
								};
							};
						};
					};
					default: {
						e;
					}
				};
			};
		});
	}

	static function collectUndeclaredRefs(stmts:Array<reflaxe.elixir.ast.ElixirAST>, start:Int, declared:Map<String, Bool>) {
		var used = {
			{};
			new haxe.ds.StringMap();
		};
		{
			var ` = start;
			var ` = stmts.length;
			while (` < `) {
				var j = ` ++;
				reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(stmts[j], used);
			};
		};
		var out = [];
		for (k in used.keys()) {
			if (! declared.exists(k)) {
				out.push(k);
			};
		};
		return out;
	}

	static function laterUses(stmts:Array<reflaxe.elixir.ast.ElixirAST>, start:Int, name:String) {
		{
			var ` = start;
			var ` = stmts.length;
			while (` < `) {
				var j = ` ++;
				if (reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.usesName(stmts[j], name)) {
					return true;
				};
			};
		};
		return false;
	}

	static function laterUsesLengthOf(stmts:Array<reflaxe.elixir.ast.ElixirAST>, start:Int, name:String) {
		{
			var ` = start;
			var ` = stmts.length;
			while (` < `) {
				var j = ` ++;
				if (reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.hasLengthCallWith(stmts[j], name)) {
					return true;
				};
			};
		};
		return false;
		return false;
	}

	static function tryPromoteWildcard(rhs:reflaxe.elixir.ast.ElixirAST, stmts:Array<reflaxe.elixir.ast.ElixirAST>, idx:Int, declared:Map<String, Bool>) {
		{};
		if (@:ast(switch (x.def) {
	case ERemoteCall({ def : EVar(m) }, "downcase", args) if (m == "String" && args != null && args.length == 1):
		switch (args[0].def) {
			case EVar(v) if (v == "search_query"):
				true;			
			default:
				false;			
		};	
	default:
		false;	
}) {
			var ` = rhs.def;
			if (enumIndex ` == 24) {
				var ` = `[0];
				var ` = `[1];
				var ` = `[2];
				{
					var ` = `.def;
					var ` = `.metadata;
					var ` = `.pos;
					if (enumIndex ` == 38) {
						var ` = `[0];
						if (` == "downcase") {
							{
								var m = `;
								var args = `;
								if (m == "String" && args != null && args.length == 1) {
									@:ast(switch (args[0].def) {
	case EVar(v) if (v == "search_query"):
		true;	
	default:
		false;	
}) {
										var ` = args[0].def;
										if (enumIndex ` == 38) {
											var ` = `[0];
											{
												var v = `;
												if (v == "search_query") {
													true;
												} else {
													false;
												};
											};
										} else {
											false;
										};
									};
								} else {
									false;
								};
							};
						} else {
							false;
						};
					} else {
						false;
					};
				};
			} else {
				false;
			};
		}) {
			return {def : reflaxe.elixir.ast.ElixirASTDef.EMatch(reflaxe.elixir.ast.EPattern.PVar("query"), rhs), metadata : rhs.metadata, pos : rhs.pos};
		};
		@:ast(switch (rhs.def) {
	case EMap(_) | EKeywordList(_):
		var vars = collectRemoteArgVars(stmts, idx + 1, declared, 5, "Phoenix.Component", "assign", 1);
		if (vars.length == 1) {
			var v = vars[0];
			if (!declared.exists(v)) return makeASTWithMeta(EMatch(PVar(v), rhs), rhs.metadata, rhs.pos);
		};	
	case ECall(_, _, _):
	case ERemoteCall(_, _, _):
	case _:
}) {
			var ` = rhs.def;
			switch (enumIndex `) {
				case 17: {
					var ` = `[0];
					{
						var vars = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectRemoteArgVars(stmts, idx + 1, declared, 5, "Phoenix.Component", "assign", 1);
						if (vars.length == 1) {
							var v = vars[0];
							if (! declared.exists(v)) {
								return {def : reflaxe.elixir.ast.ElixirASTDef.EMatch(reflaxe.elixir.ast.EPattern.PVar(v), rhs), metadata : rhs.metadata, pos : rhs.pos};
							};
						};
					};
				};
				case 20: {
					var ` = `[0];
					{
						var vars = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectRemoteArgVars(stmts, idx + 1, declared, 5, "Phoenix.Component", "assign", 1);
						if (vars.length == 1) {
							var v = vars[0];
							if (! declared.exists(v)) {
								return {def : reflaxe.elixir.ast.ElixirASTDef.EMatch(reflaxe.elixir.ast.EPattern.PVar(v), rhs), metadata : rhs.metadata, pos : rhs.pos};
							};
						};
					};
				};
				case 22: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{};
				};
				case 24: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{};
				};
				default: {}
			};
		};
		var firstArgs = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectRemoteArgVars(stmts, idx + 1, declared, 5, "Phoenix.Component", "assign", 0);
		if (firstArgs.length == 1 && ! declared.exists(firstArgs[0])) {
			return {def : reflaxe.elixir.ast.ElixirASTDef.EMatch(reflaxe.elixir.ast.EPattern.PVar(firstArgs[0]), rhs), metadata : rhs.metadata, pos : rhs.pos};
		};
		var dtVars = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectDateTimeToIsoArgs(stmts, idx + 1, declared, 6);
		if (dtVars.length == 1 && ! declared.exists(dtVars[0])) {
			return {def : reflaxe.elixir.ast.ElixirASTDef.EMatch(reflaxe.elixir.ast.EPattern.PVar(dtVars[0]), rhs), metadata : rhs.metadata, pos : rhs.pos};
		};
		@:ast(switch (rhs.def) {
	case EField(_, _):
		var bases = collectAssignMapValueVars(stmts, idx + 1, 5);
		if (bases.length == 1 && !declared.exists(bases[0])) {
			return makeASTWithMeta(EMatch(PVar(bases[0]), rhs), rhs.metadata, rhs.pos);
		};	
	default:
}) {
			var ` = rhs.def;
			if (enumIndex ` == 28) {
				var ` = `[0];
				var ` = `[1];
				{
					var bases = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectAssignMapValueVars(stmts, idx + 1, 5);
					if (bases.length == 1 && ! declared.exists(bases[0])) {
						return {def : reflaxe.elixir.ast.ElixirASTDef.EMatch(reflaxe.elixir.ast.EPattern.PVar(bases[0]), rhs), metadata : rhs.metadata, pos : rhs.pos};
					};
				};
			} else {};
		};
		if (idx + 1 < stmts.length) {
			@:ast(switch (stmts[idx + 1].def) {
	case ERemoteCall(modA, fnA, argsA) if (fnA == "assign"):
		var mA:Null<String> = switch (modA.def) {
			case EVar(mm):
				mm;			
			default:
				null;			
		};
		if (mA == "Phoenix.Component" && argsA.length >= 2) {
			switch (argsA[1].def) {
				case EMap(pairsA):
					var seen:Map<String,Int> = new Map();
					for (p  in  pairsA) {
						var vals:Map<String,Bool> = new Map();
						collectVarsFromExpr(p.value, vals);
						for (k  in  vals.keys()) seen.set(k, (seen.exists(k) ? seen.get(k) : 0) + 1);
					};
					var pick:Null<String> = null;
					for (k  in  seen.keys()) if (!declared.exists(k)) {
						if (pick == null) pick = k else {
							pick = null;
							break;
						};
					};
					if (pick != null) return makeASTWithMeta(EMatch(PVar(pick), rhs), rhs.metadata, rhs.pos);				
				default:
			};
		};	
	default:
}) {
				var ` = stmts[idx + 1].def;
				if (enumIndex ` == 24) {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var modA = `;
						var fnA = `;
						var argsA = `;
						if (fnA == "assign") {
							var mA = @:ast(switch (modA.def) {
	case EVar(mm):
		mm;	
	default:
		null;	
}) {
								var ` = modA.def;
								if (enumIndex ` == 38) {
									var ` = `[0];
									{
										var mm = `;
										{
											mm;
										};
									};
								} else {
									null;
								};
							};
							if (mA == "Phoenix.Component" && argsA.length >= 2) {
								@:ast(switch (argsA[1].def) {
	case EMap(pairsA):
		var seen:Map<String,Int> = new Map();
		for (p  in  pairsA) {
			var vals:Map<String,Bool> = new Map();
			collectVarsFromExpr(p.value, vals);
			for (k  in  vals.keys()) seen.set(k, (seen.exists(k) ? seen.get(k) : 0) + 1);
		};
		var pick:Null<String> = null;
		for (k  in  seen.keys()) if (!declared.exists(k)) {
			if (pick == null) pick = k else {
				pick = null;
				break;
			};
		};
		if (pick != null) return makeASTWithMeta(EMatch(PVar(pick), rhs), rhs.metadata, rhs.pos);	
	default:
}) {
									var ` = argsA[1].def;
									if (enumIndex ` == 17) {
										var ` = `[0];
										{
											var pairsA = `;
											{
												var seen = {
													{};
													new haxe.ds.StringMap();
												};
												{
													var ` = 0;
													while (` < pairsA.length) {
														var p = pairsA[`];
														++ `;
														var vals = {
															{};
															new haxe.ds.StringMap();
														};
														reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(p.value, vals);
														for (k in vals.keys()) {
															{
																var value = (if ((seen.exists(k))) seen.get(k) else 0) + 1;
																seen.set(k, value);
															};
														};
													};
												};
												var pick = null;
												for (k in seen.keys()) {
													if (! declared.exists(k)) {
														if (pick == null) {
															pick = k;
														} else {
															pick = null;
															break;
														};
													};
												};
												if (pick != null) {
													return {def : reflaxe.elixir.ast.ElixirASTDef.EMatch(reflaxe.elixir.ast.EPattern.PVar(pick), rhs), metadata : rhs.metadata, pos : rhs.pos};
												};
											};
										};
									} else {};
								};
							};
						} else {};
					};
				} else {};
			};
		};
		return null;
	}

	static function tryPromoteWildcardBinary(rhs:reflaxe.elixir.ast.ElixirAST, stmts:Array<reflaxe.elixir.ast.ElixirAST>, idx:Int, declared:Map<String, Bool>, meta:Dynamic, pos:Dynamic) {
		{};
		if (@:ast(switch (x.def) {
	case ERemoteCall({ def : EVar(m) }, "downcase", args) if (m == "String" && args != null && args.length == 1):
		switch (args[0].def) {
			case EVar(v) if (v == "search_query"):
				true;			
			default:
				false;			
		};	
	default:
		false;	
}) {
			var ` = rhs.def;
			if (enumIndex ` == 24) {
				var ` = `[0];
				var ` = `[1];
				var ` = `[2];
				{
					var ` = `.def;
					var ` = `.metadata;
					var ` = `.pos;
					if (enumIndex ` == 38) {
						var ` = `[0];
						if (` == "downcase") {
							{
								var m = `;
								var args = `;
								if (m == "String" && args != null && args.length == 1) {
									@:ast(switch (args[0].def) {
	case EVar(v) if (v == "search_query"):
		true;	
	default:
		false;	
}) {
										var ` = args[0].def;
										if (enumIndex ` == 38) {
											var ` = `[0];
											{
												var v = `;
												if (v == "search_query") {
													true;
												} else {
													false;
												};
											};
										} else {
											false;
										};
									};
								} else {
									false;
								};
							};
						} else {
							false;
						};
					} else {
						false;
					};
				};
			} else {
				false;
			};
		}) {
			return {def : reflaxe.elixir.ast.ElixirASTDef.EBinary(reflaxe.elixir.ast.EBinaryOp.Match, {
				var pos = null;
				{def : reflaxe.elixir.ast.ElixirASTDef.EVar("query"), metadata : {}, pos : pos};
			}, rhs), metadata : cast meta, pos : cast pos};
		};
		@:ast(switch (rhs.def) {
	case ERemoteCall(mod, fn, _):
		var modStr:Null<String> = switch (mod.def) {
			case EVar(m):
				m;			
			default:
				null;			
		};
		if (modStr != null && modStr.indexOf("Presence") != -1) {
			var firstArgs = collectRemoteArgVars(stmts, idx + 1, declared, 5, "Phoenix.Component", "assign", 0);
			if (firstArgs.length == 1 && !declared.exists(firstArgs[0])) {
				return makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(firstArgs[0])), rhs), meta, pos);
			};
		};
		if (modStr == "DateTime") {
			var dtVars = collectDateTimeToIsoArgs(stmts, idx + 1, declared, 6);
			if (dtVars.length == 1) {
				return makeASTWithMeta(EBinary(Match, makeAST(ElixirASTDef.EVar(dtVars[0])), rhs), meta, pos);
			};
		};	
	default:
}) {
			var ` = rhs.def;
			if (enumIndex ` == 24) {
				var ` = `[0];
				var ` = `[1];
				var ` = `[2];
				{
					var mod = `;
					var fn = `;
					{
						var modStr = @:ast(switch (mod.def) {
	case EVar(m):
		m;	
	default:
		null;	
}) {
							var ` = mod.def;
							if (enumIndex ` == 38) {
								var ` = `[0];
								{
									var m = `;
									{
										m;
									};
								};
							} else {
								null;
							};
						};
						if (modStr != null && modStr.indexOf("Presence", null) != -1) {
							var firstArgs = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectRemoteArgVars(stmts, idx + 1, declared, 5, "Phoenix.Component", "assign", 0);
							if (firstArgs.length == 1 && ! declared.exists(firstArgs[0])) {
								return {def : reflaxe.elixir.ast.ElixirASTDef.EBinary(reflaxe.elixir.ast.EBinaryOp.Match, {
									var pos = null;
									{def : reflaxe.elixir.ast.ElixirASTDef.EVar(firstArgs[0]), metadata : {}, pos : pos};
								}, rhs), metadata : cast meta, pos : cast pos};
							};
						};
						if (modStr == "DateTime") {
							var dtVars = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectDateTimeToIsoArgs(stmts, idx + 1, declared, 6);
							if (dtVars.length == 1) {
								return {def : reflaxe.elixir.ast.ElixirASTDef.EBinary(reflaxe.elixir.ast.EBinaryOp.Match, {
									var pos = null;
									{def : reflaxe.elixir.ast.ElixirASTDef.EVar(dtVars[0]), metadata : {}, pos : pos};
								}, rhs), metadata : cast meta, pos : cast pos};
							};
						};
					};
				};
			} else {};
		};
		var lengthCands = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectLengthArgNames(stmts, idx + 1, declared, 6);
		if (lengthCands.length == 1) {
			var nm = lengthCands[0];
			return {def : reflaxe.elixir.ast.ElixirASTDef.EBinary(reflaxe.elixir.ast.EBinaryOp.Match, {
				var pos = null;
				{def : reflaxe.elixir.ast.ElixirASTDef.EVar(nm), metadata : {}, pos : pos};
			}, rhs), metadata : cast meta, pos : cast pos};
		};
		var assignSecondArgVars = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectRemoteArgVars(stmts, idx + 1, declared, 5, "Phoenix.Component", "assign", 1);
		if (assignSecondArgVars.length == 1 && ! declared.exists(assignSecondArgVars[0])) {
			return {def : reflaxe.elixir.ast.ElixirASTDef.EBinary(reflaxe.elixir.ast.EBinaryOp.Match, {
				var pos = null;
				{def : reflaxe.elixir.ast.ElixirASTDef.EVar(assignSecondArgVars[0]), metadata : {}, pos : pos};
			}, rhs), metadata : cast meta, pos : cast pos};
		};
		return null;
	}

	static function usesName(n:reflaxe.elixir.ast.ElixirAST, name:String) {
		var found = [false];
		var walk = [null];
		walk[0] = function(x:reflaxe.elixir.ast.ElixirAST) {
			if (found[0] || x == null || x.def == null) {
				return;
			};
			@:ast(switch (x.def) {
	case EVar(v) if (v == name):
		found = true;	
	case EFn(clauses):
		for (cl  in  clauses) {
			if (cl.guard != null) walk(cl.guard);
			if (cl.body != null) walk(cl.body);
		};	
	case EBlock(ss):
		for (s  in  ss) walk(s);	
	case EIf(c, t, e):
		walk(c);
		walk(t);
		if (e != null) walk(e);	
	case EBinary(_, l, r):
		walk(l);
		walk(r);	
	case EMatch(_, rhs):
		walk(rhs);	
	case ECall(tgt, _, args):
		if (tgt != null) walk(tgt);
		for (a  in  args) walk(a);	
	case ERemoteCall(tgt2, _, args2):
		walk(tgt2);
		for (a2  in  args2) walk(a2);	
	case EMap(pairs):
		for (p  in  pairs) {
			walk(p.key);
			walk(p.value);
		};	
	case EKeywordList(pairs):
		for (p  in  pairs) walk(p.value);	
	case EStructUpdate(base, fields):
		walk(base);
		for (f  in  fields) walk(f.value);	
	case ETuple(elems):
		for (e  in  elems) walk(e);	
	case EString(str):
		if (str != null && str.indexOf(name) != -1) found = true;	
	case ERaw(code):
		if (code != null && code.indexOf(name) != -1) found = true;	
	default:
}) {
				var ` = x.def;
				switch (enumIndex `) {
					case 8: {
						var ` = `[0];
						var ` = `[1];
						{
							var rhs = `;
							{
								walk[0](rhs);
							};
						};
					};
					case 10: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var c = `;
							var t = `;
							var e = `;
							{
								walk[0](c);
								walk[0](t);
								if (e != null) {
									walk[0](e);
								};
							};
						};
					};
					case 16: {
						var ` = `[0];
						{
							var elems = `;
							{
								{
									var ` = 0;
									while (` < elems.length) {
										var e = elems[`];
										++ `;
										walk[0](e);
									};
								};
							};
						};
					};
					case 17: {
						var ` = `[0];
						{
							var pairs = `;
							{
								{
									var ` = 0;
									while (` < pairs.length) {
										var p = pairs[`];
										++ `;
										walk[0](p.key);
										walk[0](p.value);
									};
								};
							};
						};
					};
					case 19: {
						var ` = `[0];
						var ` = `[1];
						{
							var base = `;
							var fields = `;
							{
								walk[0](base);
								{
									var ` = 0;
									while (` < fields.length) {
										var f = fields[`];
										++ `;
										walk[0](f.value);
									};
								};
							};
						};
					};
					case 20: {
						var ` = `[0];
						{
							var pairs = `;
							{
								{
									var ` = 0;
									while (` < pairs.length) {
										var p = pairs[`];
										++ `;
										walk[0](p.value);
									};
								};
							};
						};
					};
					case 22: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var tgt = `;
							var args = `;
							{
								if (tgt != null) {
									walk[0](tgt);
								};
								{
									var ` = 0;
									while (` < args.length) {
										var a = args[`];
										++ `;
										walk[0](a);
									};
								};
							};
						};
					};
					case 24: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var tgt2 = `;
							var args2 = `;
							{
								walk[0](tgt2);
								{
									var ` = 0;
									while (` < args2.length) {
										var a2 = args2[`];
										++ `;
										walk[0](a2);
									};
								};
							};
						};
					};
					case 26: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var l = `;
							var r = `;
							{
								walk[0](l);
								walk[0](r);
							};
						};
					};
					case 32: {
						var ` = `[0];
						{
							var str = `;
							{
								if (str != null && str.indexOf(name, null) != -1) {
									found[0] = true;
								};
							};
						};
					};
					case 38: {
						var ` = `[0];
						{
							var v = `;
							if (v == name) {
								found[0] = true;
							} else {};
						};
					};
					case 42: {
						var ` = `[0];
						{
							var clauses = `;
							{
								{
									var ` = 0;
									while (` < clauses.length) {
										var cl = clauses[`];
										++ `;
										if (cl.guard != null) {
											walk[0](cl.guard);
										};
										if (cl.body != null) {
											walk[0](cl.body);
										};
									};
								};
							};
						};
					};
					case 53: {
						var ` = `[0];
						{
							var ss = `;
							{
								{
									var ` = 0;
									while (` < ss.length) {
										var s = ss[`];
										++ `;
										walk[0](s);
									};
								};
							};
						};
					};
					case 62: {
						var ` = `[0];
						{
							var code = `;
							{
								if (code != null && code.indexOf(name, null) != -1) {
									found[0] = true;
								};
							};
						};
					};
					default: {}
				};
			};
		};
		walk[0](n);
		return found[0];
	}

	static function hasLengthCallWith(n:reflaxe.elixir.ast.ElixirAST, name:String) {
		var seen = [false];
		var walk = [null];
		walk[0] = function(x:reflaxe.elixir.ast.ElixirAST) {
			if (seen[0] || x == null || x.def == null) {
				return;
			};
			@:ast(switch (x.def) {
	case ECall(_, fn, args) if (fn == "length"):
		for (a  in  args) switch (a.def) {
			case EVar(v) if (v == name):
				seen = true;			
			default:
		};	
	case ERemoteCall(_, fn2, args2) if (fn2 == "length"):
		for (a2  in  args2) switch (a2.def) {
			case EVar(v2) if (v2 == name):
				seen = true;			
			default:
		};	
	case EBlock(ss):
		for (s  in  ss) walk(s);	
	case EIf(c, t, e):
		walk(c);
		walk(t);
		if (e != null) walk(e);	
	case EBinary(_, l, r):
		walk(l);
		walk(r);	
	case EMatch(_, rhs):
		walk(rhs);	
	case ECall(tgt, _, argsX):
		if (tgt != null) walk(tgt);
		for (aX  in  argsX) walk(aX);	
	case ERemoteCall(tgt2, _, argsY):
		walk(tgt2);
		for (aY  in  argsY) walk(aY);	
	case EMap(pairs):
		for (p  in  pairs) {
			walk(p.key);
			walk(p.value);
		};	
	case EKeywordList(pairs):
		for (p  in  pairs) walk(p.value);	
	case EStructUpdate(base, fields):
		walk(base);
		for (f  in  fields) walk(f.value);	
	case ETuple(elems):
		for (e  in  elems) walk(e);	
	default:
}) {
				var ` = x.def;
				switch (enumIndex `) {
					case 8: {
						var ` = `[0];
						var ` = `[1];
						{
							var rhs = `;
							{
								walk[0](rhs);
							};
						};
					};
					case 10: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var c = `;
							var t = `;
							var e = `;
							{
								walk[0](c);
								walk[0](t);
								if (e != null) {
									walk[0](e);
								};
							};
						};
					};
					case 16: {
						var ` = `[0];
						{
							var elems = `;
							{
								{
									var ` = 0;
									while (` < elems.length) {
										var e = elems[`];
										++ `;
										walk[0](e);
									};
								};
							};
						};
					};
					case 17: {
						var ` = `[0];
						{
							var pairs = `;
							{
								{
									var ` = 0;
									while (` < pairs.length) {
										var p = pairs[`];
										++ `;
										walk[0](p.key);
										walk[0](p.value);
									};
								};
							};
						};
					};
					case 19: {
						var ` = `[0];
						var ` = `[1];
						{
							var base = `;
							var fields = `;
							{
								walk[0](base);
								{
									var ` = 0;
									while (` < fields.length) {
										var f = fields[`];
										++ `;
										walk[0](f.value);
									};
								};
							};
						};
					};
					case 20: {
						var ` = `[0];
						{
							var pairs = `;
							{
								{
									var ` = 0;
									while (` < pairs.length) {
										var p = pairs[`];
										++ `;
										walk[0](p.value);
									};
								};
							};
						};
					};
					case 22: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var fn = `;
							var args = `;
							if (fn == "length") {
								{
									var ` = 0;
									while (` < args.length) {
										var a = args[`];
										++ `;
										@:ast(switch (a.def) {
	case EVar(v) if (v == name):
		seen = true;	
	default:
}) {
											var ` = a.def;
											if (enumIndex ` == 38) {
												var ` = `[0];
												{
													var v = `;
													if (v == name) {
														seen[0] = true;
													} else {};
												};
											} else {};
										};
									};
								};
							} else {
								var tgt = `;
								var argsX = `;
								{
									if (tgt != null) {
										walk[0](tgt);
									};
									{
										var ` = 0;
										while (` < argsX.length) {
											var aX = argsX[`];
											++ `;
											walk[0](aX);
										};
									};
								};
							};
						};
					};
					case 24: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var fn2 = `;
							var args2 = `;
							if (fn2 == "length") {
								{
									var ` = 0;
									while (` < args2.length) {
										var a2 = args2[`];
										++ `;
										@:ast(switch (a2.def) {
	case EVar(v2) if (v2 == name):
		seen = true;	
	default:
}) {
											var ` = a2.def;
											if (enumIndex ` == 38) {
												var ` = `[0];
												{
													var v2 = `;
													if (v2 == name) {
														seen[0] = true;
													} else {};
												};
											} else {};
										};
									};
								};
							} else {
								var tgt2 = `;
								var argsY = `;
								{
									walk[0](tgt2);
									{
										var ` = 0;
										while (` < argsY.length) {
											var aY = argsY[`];
											++ `;
											walk[0](aY);
										};
									};
								};
							};
						};
					};
					case 26: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var l = `;
							var r = `;
							{
								walk[0](l);
								walk[0](r);
							};
						};
					};
					case 53: {
						var ` = `[0];
						{
							var ss = `;
							{
								{
									var ` = 0;
									while (` < ss.length) {
										var s = ss[`];
										++ `;
										walk[0](s);
									};
								};
							};
						};
					};
					default: {}
				};
			};
		};
		walk[0](n);
		return seen[0];
	}

	static function laterUsesDateTimeToIso(stmts:Array<reflaxe.elixir.ast.ElixirAST>, idx:Int, name:String) {
		{
			var ` = idx + 1;
			var ` = stmts.length;
			while (` < `) {
				var k = ` ++;
				if (reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.hasDateTimeToIso(stmts[k], name)) {
					return true;
				};
			};
		};
		return false;
	}

	static function hasDateTimeToIso(n:reflaxe.elixir.ast.ElixirAST, name:String) {
		var found = [false];
		var walk = [null];
		walk[0] = function(x:reflaxe.elixir.ast.ElixirAST) {
			if (found[0] || x == null || x.def == null) {
				return;
			};
			@:ast(switch (x.def) {
	case ERemoteCall(mod, fn, args) if (fn == "to_iso8601"):
		var modStr:Null<String> = switch (mod.def) {
			case EVar(m):
				m;			
			default:
				null;			
		};
		if (modStr == "DateTime") for (a  in  args) switch (a.def) {
			case EVar(v) if (v == name):
				found = true;			
			default:
		};	
	case EBlock(ss):
		for (s  in  ss) walk(s);	
	case EIf(c, t, e):
		walk(c);
		walk(t);
		if (e != null) walk(e);	
	case EBinary(_, l, r):
		walk(l);
		walk(r);	
	case ECall(tgt, _, args2):
		if (tgt != null) walk(tgt);
		for (a2  in  args2) walk(a2);	
	case ERemoteCall(tgt2, _, args3):
		walk(tgt2);
		for (a3  in  args3) walk(a3);	
	case ETuple(elems):
		for (e  in  elems) walk(e);	
	default:
}) {
				var ` = x.def;
				switch (enumIndex `) {
					case 10: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var c = `;
							var t = `;
							var e = `;
							{
								walk[0](c);
								walk[0](t);
								if (e != null) {
									walk[0](e);
								};
							};
						};
					};
					case 16: {
						var ` = `[0];
						{
							var elems = `;
							{
								{
									var ` = 0;
									while (` < elems.length) {
										var e = elems[`];
										++ `;
										walk[0](e);
									};
								};
							};
						};
					};
					case 22: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var tgt = `;
							var args2 = `;
							{
								if (tgt != null) {
									walk[0](tgt);
								};
								{
									var ` = 0;
									while (` < args2.length) {
										var a2 = args2[`];
										++ `;
										walk[0](a2);
									};
								};
							};
						};
					};
					case 24: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var mod = `;
							var fn = `;
							var args = `;
							if (fn == "to_iso8601") {
								var modStr = @:ast(switch (mod.def) {
	case EVar(m):
		m;	
	default:
		null;	
}) {
									var ` = mod.def;
									if (enumIndex ` == 38) {
										var ` = `[0];
										{
											var m = `;
											{
												m;
											};
										};
									} else {
										null;
									};
								};
								if (modStr == "DateTime") {
									{
										var ` = 0;
										while (` < args.length) {
											var a = args[`];
											++ `;
											@:ast(switch (a.def) {
	case EVar(v) if (v == name):
		found = true;	
	default:
}) {
												var ` = a.def;
												if (enumIndex ` == 38) {
													var ` = `[0];
													{
														var v = `;
														if (v == name) {
															found[0] = true;
														} else {};
													};
												} else {};
											};
										};
									};
								};
							} else {
								var tgt2 = `;
								var args3 = `;
								{
									walk[0](tgt2);
									{
										var ` = 0;
										while (` < args3.length) {
											var a3 = args3[`];
											++ `;
											walk[0](a3);
										};
									};
								};
							};
						};
					};
					case 26: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						{
							var l = `;
							var r = `;
							{
								walk[0](l);
								walk[0](r);
							};
						};
					};
					case 53: {
						var ` = `[0];
						{
							var ss = `;
							{
								{
									var ` = 0;
									while (` < ss.length) {
										var s = ss[`];
										++ `;
										walk[0](s);
									};
								};
							};
						};
					};
					default: {}
				};
			};
		};
		walk[0](n);
		return found[0];
	}

	static function collectLengthArgNames(stmts:Array<reflaxe.elixir.ast.ElixirAST>, start:Int, declared:Map<String, Bool>, window:Int) {
		var out = {
			{};
			new haxe.ds.StringMap();
		};
		var endIdx = Std.int(Math.min(stmts.length, start + window));
		{
			var ` = start;
			var ` = endIdx;
			while (` < `) {
				var k = ` ++;
				reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(stmts[k], out);
			};
		};
		var names = [];
		for (nm in out.keys()) {
			if (! declared.exists(nm)) {
				names.push(nm);
			};
		};
		return names;
	}

	static function collectDateTimeToIsoArgs(stmts:Array<reflaxe.elixir.ast.ElixirAST>, start:Int, declared:Map<String, Bool>, window:Int) {
		var out = {
			{};
			new haxe.ds.StringMap();
		};
		var endIdx = Std.int(Math.min(stmts.length, start + window));
		{
			var ` = start;
			var ` = endIdx;
			while (` < `) {
				var k = ` ++;
				reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(stmts[k], out);
			};
		};
		var names = [];
		for (nm in out.keys()) {
			if (! declared.exists(nm)) {
				names.push(nm);
			};
		};
		return names;
	}

	static function scanDateTimeToIso(n:reflaxe.elixir.ast.ElixirAST, out:Map<String, Bool>) {
		if (n == null || n.def == null) {
			return;
		};
		@:ast(switch (n.def) {
	case ERemoteCall(mod, fn, args) if (fn == "to_iso8601"):
		var modStr:Null<String> = switch (mod.def) {
			case EVar(m):
				m;			
			default:
				null;			
		};
		if (modStr == "DateTime") for (a  in  args) switch (a.def) {
			case EVar(v):
				out.set(v, true);			
			default:
				scanDateTimeToIso(a, out);			
		};	
	case EBlock(ss):
		for (s  in  ss) scanDateTimeToIso(s, out);	
	case EIf(c, t, e):
		scanDateTimeToIso(c, out);
		scanDateTimeToIso(t, out);
		if (e != null) scanDateTimeToIso(e, out);	
	case EBinary(_, l, r):
		scanDateTimeToIso(l, out);
		scanDateTimeToIso(r, out);	
	case ECall(tgt, _, argsX):
		if (tgt != null) scanDateTimeToIso(tgt, out);
		for (aX  in  argsX) scanDateTimeToIso(aX, out);	
	case ERemoteCall(tgt2, _, argsY):
		scanDateTimeToIso(tgt2, out);
		for (aY  in  argsY) scanDateTimeToIso(aY, out);	
	case ETuple(elems):
		for (e  in  elems) scanDateTimeToIso(e, out);	
	default:
}) {
			var ` = n.def;
			switch (enumIndex `) {
				case 10: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var c = `;
						var t = `;
						var e = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(c, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(t, out);
							if (e != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(e, out);
							};
						};
					};
				};
				case 16: {
					var ` = `[0];
					{
						var elems = `;
						{
							{
								var ` = 0;
								while (` < elems.length) {
									var e = elems[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(e, out);
								};
							};
						};
					};
				};
				case 22: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var tgt = `;
						var argsX = `;
						{
							if (tgt != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(tgt, out);
							};
							{
								var ` = 0;
								while (` < argsX.length) {
									var aX = argsX[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(aX, out);
								};
							};
						};
					};
				};
				case 24: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var mod = `;
						var fn = `;
						var args = `;
						if (fn == "to_iso8601") {
							var modStr = @:ast(switch (mod.def) {
	case EVar(m):
		m;	
	default:
		null;	
}) {
								var ` = mod.def;
								if (enumIndex ` == 38) {
									var ` = `[0];
									{
										var m = `;
										{
											m;
										};
									};
								} else {
									null;
								};
							};
							if (modStr == "DateTime") {
								{
									var ` = 0;
									while (` < args.length) {
										var a = args[`];
										++ `;
										@:ast(switch (a.def) {
	case EVar(v):
		out.set(v, true);	
	default:
		scanDateTimeToIso(a, out);	
}) {
											var ` = a.def;
											if (enumIndex ` == 38) {
												var ` = `[0];
												{
													var v = `;
													{
														{
															out.set(v, true);
														};
													};
												};
											} else {
												reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(a, out);
											};
										};
									};
								};
							};
						} else {
							var tgt2 = `;
							var argsY = `;
							{
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(tgt2, out);
								{
									var ` = 0;
									while (` < argsY.length) {
										var aY = argsY[`];
										++ `;
										reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(aY, out);
									};
								};
							};
						};
					};
				};
				case 26: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var l = `;
						var r = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(l, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(r, out);
						};
					};
				};
				case 53: {
					var ` = `[0];
					{
						var ss = `;
						{
							{
								var ` = 0;
								while (` < ss.length) {
									var s = ss[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanDateTimeToIso(s, out);
								};
							};
						};
					};
				};
				default: {}
			};
		};
	}

	static function collectNamesInLength(n:reflaxe.elixir.ast.ElixirAST, out:Map<String, Bool>) {
		if (n == null || n.def == null) {
			return;
		};
		@:ast(switch (n.def) {
	case ECall(_, fn, args) if (fn == "length"):
		for (a  in  args) switch (a.def) {
			case EVar(v):
				out.set(v, true);			
			default:
				collectNamesInLength(a, out);			
		};	
	case ERemoteCall(_, fn2, args2) if (fn2 == "length"):
		for (a2  in  args2) switch (a2.def) {
			case EVar(v2):
				out.set(v2, true);			
			default:
				collectNamesInLength(a2, out);			
		};	
	case EBlock(ss):
		for (s  in  ss) collectNamesInLength(s, out);	
	case EIf(c, t, e):
		collectNamesInLength(c, out);
		collectNamesInLength(t, out);
		if (e != null) collectNamesInLength(e, out);	
	case EBinary(_, l, r):
		collectNamesInLength(l, out);
		collectNamesInLength(r, out);	
	case ECall(tgt, _, argsX):
		if (tgt != null) collectNamesInLength(tgt, out);
		for (aX  in  argsX) collectNamesInLength(aX, out);	
	case ERemoteCall(tgt2, _, argsY):
		collectNamesInLength(tgt2, out);
		for (aY  in  argsY) collectNamesInLength(aY, out);	
	case EKeywordList(pairs):
		for (p  in  pairs) collectNamesInLength(p.value, out);	
	case EMap(pairs):
		for (p  in  pairs) collectNamesInLength(p.value, out);	
	case EStructUpdate(base, fields):
		collectNamesInLength(base, out);
		for (f  in  fields) collectNamesInLength(f.value, out);	
	case ETuple(elems):
		for (e  in  elems) collectNamesInLength(e, out);	
	default:
}) {
			var ` = n.def;
			switch (enumIndex `) {
				case 10: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var c = `;
						var t = `;
						var e = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(c, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(t, out);
							if (e != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(e, out);
							};
						};
					};
				};
				case 16: {
					var ` = `[0];
					{
						var elems = `;
						{
							{
								var ` = 0;
								while (` < elems.length) {
									var e = elems[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(e, out);
								};
							};
						};
					};
				};
				case 17: {
					var ` = `[0];
					{
						var pairs = `;
						{
							{
								var ` = 0;
								while (` < pairs.length) {
									var p = pairs[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(p.value, out);
								};
							};
						};
					};
				};
				case 19: {
					var ` = `[0];
					var ` = `[1];
					{
						var base = `;
						var fields = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(base, out);
							{
								var ` = 0;
								while (` < fields.length) {
									var f = fields[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(f.value, out);
								};
							};
						};
					};
				};
				case 20: {
					var ` = `[0];
					{
						var pairs = `;
						{
							{
								var ` = 0;
								while (` < pairs.length) {
									var p = pairs[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(p.value, out);
								};
							};
						};
					};
				};
				case 22: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var fn = `;
						var args = `;
						if (fn == "length") {
							{
								var ` = 0;
								while (` < args.length) {
									var a = args[`];
									++ `;
									@:ast(switch (a.def) {
	case EVar(v):
		out.set(v, true);	
	default:
		collectNamesInLength(a, out);	
}) {
										var ` = a.def;
										if (enumIndex ` == 38) {
											var ` = `[0];
											{
												var v = `;
												{
													{
														out.set(v, true);
													};
												};
											};
										} else {
											reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(a, out);
										};
									};
								};
							};
						} else {
							var tgt = `;
							var argsX = `;
							{
								if (tgt != null) {
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(tgt, out);
								};
								{
									var ` = 0;
									while (` < argsX.length) {
										var aX = argsX[`];
										++ `;
										reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(aX, out);
									};
								};
							};
						};
					};
				};
				case 24: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var fn2 = `;
						var args2 = `;
						if (fn2 == "length") {
							{
								var ` = 0;
								while (` < args2.length) {
									var a2 = args2[`];
									++ `;
									@:ast(switch (a2.def) {
	case EVar(v2):
		out.set(v2, true);	
	default:
		collectNamesInLength(a2, out);	
}) {
										var ` = a2.def;
										if (enumIndex ` == 38) {
											var ` = `[0];
											{
												var v2 = `;
												{
													{
														out.set(v2, true);
													};
												};
											};
										} else {
											reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(a2, out);
										};
									};
								};
							};
						} else {
							var tgt2 = `;
							var argsY = `;
							{
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(tgt2, out);
								{
									var ` = 0;
									while (` < argsY.length) {
										var aY = argsY[`];
										++ `;
										reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(aY, out);
									};
								};
							};
						};
					};
				};
				case 26: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var l = `;
						var r = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(l, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(r, out);
						};
					};
				};
				case 53: {
					var ` = `[0];
					{
						var ss = `;
						{
							{
								var ` = 0;
								while (` < ss.length) {
									var s = ss[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectNamesInLength(s, out);
								};
							};
						};
					};
				};
				default: {}
			};
		};
	}

	static function collectTargetedCandidates(stmts:Array<reflaxe.elixir.ast.ElixirAST>, idx:Int, declared:Map<String, Bool>, window:Int) {
		var out = {
			{};
			new haxe.ds.StringMap();
		};
		{
			var ` = 0;
			var ` = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectLengthArgNames(stmts, idx + 1, declared, window);
			while (` < `.length) {
				var nm = `[`];
				++ `;
				{
					out.set(nm, true);
				};
			};
		};
		{
			var ` = 0;
			var ` = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectRemoteArgVars(stmts, idx + 1, declared, window, "Phoenix.Component", "assign", 0);
			while (` < `.length) {
				var nm = `[`];
				++ `;
				{
					out.set(nm, true);
				};
			};
		};
		{
			var ` = 0;
			var ` = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectRemoteArgVars(stmts, idx + 1, declared, window, "Phoenix.Component", "assign", 1);
			while (` < `.length) {
				var nm = `[`];
				++ `;
				{
					out.set(nm, true);
				};
			};
		};
		{
			var ` = 0;
			var ` = reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectAssignMapValueVars(stmts, idx + 1, window);
			while (` < `.length) {
				var nm = `[`];
				++ `;
				{
					out.set(nm, true);
				};
			};
		};
		var names = [];
		for (nm in out.keys()) {
			if (! declared.exists(nm)) {
				names.push(nm);
			};
		};
		return names;
	}

	static function collectRemoteArgVars(stmts:Array<reflaxe.elixir.ast.ElixirAST>, start:Int, declared:Map<String, Bool>, window:Int, modName:String, fnName:String, argIndex:Int) {
		var out = {
			{};
			new haxe.ds.StringMap();
		};
		var endIdx = Std.int(Math.min(stmts.length, start + window));
		{
			var ` = start;
			var ` = endIdx;
			while (` < `) {
				var k = ` ++;
				reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(stmts[k], out, modName, fnName, argIndex);
			};
		};
		var names = [];
		for (nm in out.keys()) {
			if (! declared.exists(nm)) {
				names.push(nm);
			};
		};
		return names;
	}

	static function scanRemoteArgVar(n:reflaxe.elixir.ast.ElixirAST, out:Map<String, Bool>, modName:String, fnName:String, argIndex:Int) {
		if (n == null || n.def == null) {
			return;
		};
		@:ast(switch (n.def) {
	case ERemoteCall(mod, fn, args) if (fn == fnName):
		var m:Null<String> = switch (mod.def) {
			case EVar(mn):
				mn;			
			default:
				null;			
		};
		if (m == modName && argIndex < args.length) switch (args[argIndex].def) {
			case EVar(v):
				out.set(v, true);			
			default:
		};
		for (a  in  args) scanRemoteArgVar(a, out, modName, fnName, argIndex);	
	case EBlock(ss):
		for (s  in  ss) scanRemoteArgVar(s, out, modName, fnName, argIndex);	
	case EIf(c, t, e):
		scanRemoteArgVar(c, out, modName, fnName, argIndex);
		scanRemoteArgVar(t, out, modName, fnName, argIndex);
		if (e != null) scanRemoteArgVar(e, out, modName, fnName, argIndex);	
	case EBinary(_, l, r):
		scanRemoteArgVar(l, out, modName, fnName, argIndex);
		scanRemoteArgVar(r, out, modName, fnName, argIndex);	
	case ECall(tgt, _, argsX):
		if (tgt != null) scanRemoteArgVar(tgt, out, modName, fnName, argIndex);
		for (aX  in  argsX) scanRemoteArgVar(aX, out, modName, fnName, argIndex);	
	case ERemoteCall(tgt2, _, argsY):
		scanRemoteArgVar(tgt2, out, modName, fnName, argIndex);
		for (aY  in  argsY) scanRemoteArgVar(aY, out, modName, fnName, argIndex);	
	case ETuple(elems):
		for (e  in  elems) scanRemoteArgVar(e, out, modName, fnName, argIndex);	
	case EMap(pairs):
		for (p  in  pairs) scanRemoteArgVar(p.value, out, modName, fnName, argIndex);	
	default:
}) {
			var ` = n.def;
			switch (enumIndex `) {
				case 10: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var c = `;
						var t = `;
						var e = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(c, out, modName, fnName, argIndex);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(t, out, modName, fnName, argIndex);
							if (e != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(e, out, modName, fnName, argIndex);
							};
						};
					};
				};
				case 16: {
					var ` = `[0];
					{
						var elems = `;
						{
							{
								var ` = 0;
								while (` < elems.length) {
									var e = elems[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(e, out, modName, fnName, argIndex);
								};
							};
						};
					};
				};
				case 17: {
					var ` = `[0];
					{
						var pairs = `;
						{
							{
								var ` = 0;
								while (` < pairs.length) {
									var p = pairs[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(p.value, out, modName, fnName, argIndex);
								};
							};
						};
					};
				};
				case 22: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var tgt = `;
						var argsX = `;
						{
							if (tgt != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(tgt, out, modName, fnName, argIndex);
							};
							{
								var ` = 0;
								while (` < argsX.length) {
									var aX = argsX[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(aX, out, modName, fnName, argIndex);
								};
							};
						};
					};
				};
				case 24: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var mod = `;
						var fn = `;
						var args = `;
						if (fn == fnName) {
							var m = @:ast(switch (mod.def) {
	case EVar(mn):
		mn;	
	default:
		null;	
}) {
								var ` = mod.def;
								if (enumIndex ` == 38) {
									var ` = `[0];
									{
										var mn = `;
										{
											mn;
										};
									};
								} else {
									null;
								};
							};
							if (m == modName && argIndex < args.length) {
								@:ast(switch (args[argIndex].def) {
	case EVar(v):
		out.set(v, true);	
	default:
}) {
									var ` = args[argIndex].def;
									if (enumIndex ` == 38) {
										var ` = `[0];
										{
											var v = `;
											{
												{
													out.set(v, true);
												};
											};
										};
									} else {};
								};
							};
							{
								var ` = 0;
								while (` < args.length) {
									var a = args[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(a, out, modName, fnName, argIndex);
								};
							};
						} else {
							var tgt2 = `;
							var argsY = `;
							{
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(tgt2, out, modName, fnName, argIndex);
								{
									var ` = 0;
									while (` < argsY.length) {
										var aY = argsY[`];
										++ `;
										reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(aY, out, modName, fnName, argIndex);
									};
								};
							};
						};
					};
				};
				case 26: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var l = `;
						var r = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(l, out, modName, fnName, argIndex);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(r, out, modName, fnName, argIndex);
						};
					};
				};
				case 53: {
					var ` = `[0];
					{
						var ss = `;
						{
							{
								var ` = 0;
								while (` < ss.length) {
									var s = ss[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanRemoteArgVar(s, out, modName, fnName, argIndex);
								};
							};
						};
					};
				};
				default: {}
			};
		};
	}

	static function collectAssignMapValueVars(stmts:Array<reflaxe.elixir.ast.ElixirAST>, start:Int, window:Int) {
		var out = {
			{};
			new haxe.ds.StringMap();
		};
		var endIdx = Std.int(Math.min(stmts.length, start + window));
		{
			var ` = start;
			var ` = endIdx;
			while (` < `) {
				var k = ` ++;
				reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(stmts[k], out);
			};
		};
		var names = [];
		for (nm in out.keys()) {
			names.push(nm);
		};
		return names;
	}

	static function scanAssignMapValueVars(n:reflaxe.elixir.ast.ElixirAST, out:Map<String, Bool>) {
		if (n == null || n.def == null) {
			return;
		};
		@:ast(switch (n.def) {
	case ERemoteCall(mod, fn, args) if (fn == "assign"):
		var m:Null<String> = switch (mod.def) {
			case EVar(mn):
				mn;			
			default:
				null;			
		};
		if (m == "Phoenix.Component" && args.length >= 2) {
			switch (args[1].def) {
				case EMap(pairs):
					for (p  in  pairs) collectFieldBasesFromExpr(p.value, out);				
				default:
			};
		};
		for (a  in  args) scanAssignMapValueVars(a, out);	
	case EBlock(ss):
		for (s  in  ss) scanAssignMapValueVars(s, out);	
	case EIf(c, t, e):
		scanAssignMapValueVars(c, out);
		scanAssignMapValueVars(t, out);
		if (e != null) scanAssignMapValueVars(e, out);	
	case EBinary(_, l, r):
		scanAssignMapValueVars(l, out);
		scanAssignMapValueVars(r, out);	
	case ECall(tgt, _, argsX):
		if (tgt != null) scanAssignMapValueVars(tgt, out);
		for (aX  in  argsX) scanAssignMapValueVars(aX, out);	
	case ERemoteCall(tgt2, _, argsY):
		scanAssignMapValueVars(tgt2, out);
		for (aY  in  argsY) scanAssignMapValueVars(aY, out);	
	case ETuple(elems):
		for (e  in  elems) scanAssignMapValueVars(e, out);	
	case EMap(pairs):
		for (p  in  pairs) collectFieldBasesFromExpr(p.value, out);	
	default:
}) {
			var ` = n.def;
			switch (enumIndex `) {
				case 10: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var c = `;
						var t = `;
						var e = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(c, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(t, out);
							if (e != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(e, out);
							};
						};
					};
				};
				case 16: {
					var ` = `[0];
					{
						var elems = `;
						{
							{
								var ` = 0;
								while (` < elems.length) {
									var e = elems[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(e, out);
								};
							};
						};
					};
				};
				case 17: {
					var ` = `[0];
					{
						var pairs = `;
						{
							{
								var ` = 0;
								while (` < pairs.length) {
									var p = pairs[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(p.value, out);
								};
							};
						};
					};
				};
				case 22: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var tgt = `;
						var argsX = `;
						{
							if (tgt != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(tgt, out);
							};
							{
								var ` = 0;
								while (` < argsX.length) {
									var aX = argsX[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(aX, out);
								};
							};
						};
					};
				};
				case 24: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var mod = `;
						var fn = `;
						var args = `;
						if (fn == "assign") {
							var m = @:ast(switch (mod.def) {
	case EVar(mn):
		mn;	
	default:
		null;	
}) {
								var ` = mod.def;
								if (enumIndex ` == 38) {
									var ` = `[0];
									{
										var mn = `;
										{
											mn;
										};
									};
								} else {
									null;
								};
							};
							if (m == "Phoenix.Component" && args.length >= 2) {
								@:ast(switch (args[1].def) {
	case EMap(pairs):
		for (p  in  pairs) collectFieldBasesFromExpr(p.value, out);	
	default:
}) {
									var ` = args[1].def;
									if (enumIndex ` == 17) {
										var ` = `[0];
										{
											var pairs = `;
											{
												{
													var ` = 0;
													while (` < pairs.length) {
														var p = pairs[`];
														++ `;
														reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(p.value, out);
													};
												};
											};
										};
									} else {};
								};
							};
							{
								var ` = 0;
								while (` < args.length) {
									var a = args[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(a, out);
								};
							};
						} else {
							var tgt2 = `;
							var argsY = `;
							{
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(tgt2, out);
								{
									var ` = 0;
									while (` < argsY.length) {
										var aY = argsY[`];
										++ `;
										reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(aY, out);
									};
								};
							};
						};
					};
				};
				case 26: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var l = `;
						var r = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(l, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(r, out);
						};
					};
				};
				case 53: {
					var ` = `[0];
					{
						var ss = `;
						{
							{
								var ` = 0;
								while (` < ss.length) {
									var s = ss[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.scanAssignMapValueVars(s, out);
								};
							};
						};
					};
				};
				default: {}
			};
		};
	}

	static function collectFieldBasesFromExpr(x:reflaxe.elixir.ast.ElixirAST, out:Map<String, Bool>) {
		if (x == null || x.def == null) {
			return;
		};
		@:ast(switch (x.def) {
	case EField(obj, _):
		switch (obj.def) {
			case EVar(vf):
				out.set(vf, true);			
			default:
				collectFieldBasesFromExpr(obj, out);			
		};	
	case EBlock(ss):
		for (s  in  ss) collectFieldBasesFromExpr(s, out);	
	case EIf(c, t, e):
		collectFieldBasesFromExpr(c, out);
		collectFieldBasesFromExpr(t, out);
		if (e != null) collectFieldBasesFromExpr(e, out);	
	case EBinary(_, l, r):
		collectFieldBasesFromExpr(l, out);
		collectFieldBasesFromExpr(r, out);	
	case ECall(tgt, _, args):
		if (tgt != null) collectFieldBasesFromExpr(tgt, out);
		for (a  in  args) collectFieldBasesFromExpr(a, out);	
	case ERemoteCall(tgt2, _, args2):
		collectFieldBasesFromExpr(tgt2, out);
		for (a2  in  args2) collectFieldBasesFromExpr(a2, out);	
	case ETuple(elems):
		for (e  in  elems) collectFieldBasesFromExpr(e, out);	
	case EMap(pairs):
		for (p  in  pairs) collectFieldBasesFromExpr(p.value, out);	
	default:
}) {
			var ` = x.def;
			switch (enumIndex `) {
				case 10: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var c = `;
						var t = `;
						var e = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(c, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(t, out);
							if (e != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(e, out);
							};
						};
					};
				};
				case 16: {
					var ` = `[0];
					{
						var elems = `;
						{
							{
								var ` = 0;
								while (` < elems.length) {
									var e = elems[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(e, out);
								};
							};
						};
					};
				};
				case 17: {
					var ` = `[0];
					{
						var pairs = `;
						{
							{
								var ` = 0;
								while (` < pairs.length) {
									var p = pairs[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(p.value, out);
								};
							};
						};
					};
				};
				case 22: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var tgt = `;
						var args = `;
						{
							if (tgt != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(tgt, out);
							};
							{
								var ` = 0;
								while (` < args.length) {
									var a = args[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(a, out);
								};
							};
						};
					};
				};
				case 24: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var tgt2 = `;
						var args2 = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(tgt2, out);
							{
								var ` = 0;
								while (` < args2.length) {
									var a2 = args2[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(a2, out);
								};
							};
						};
					};
				};
				case 26: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var l = `;
						var r = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(l, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(r, out);
						};
					};
				};
				case 28: {
					var ` = `[0];
					var ` = `[1];
					{
						var obj = `;
						{
							@:ast(switch (obj.def) {
	case EVar(vf):
		out.set(vf, true);	
	default:
		collectFieldBasesFromExpr(obj, out);	
}) {
								var ` = obj.def;
								if (enumIndex ` == 38) {
									var ` = `[0];
									{
										var vf = `;
										{
											{
												out.set(vf, true);
											};
										};
									};
								} else {
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(obj, out);
								};
							};
						};
					};
				};
				case 53: {
					var ` = `[0];
					{
						var ss = `;
						{
							{
								var ` = 0;
								while (` < ss.length) {
									var s = ss[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectFieldBasesFromExpr(s, out);
								};
							};
						};
					};
				};
				default: {}
			};
		};
	}

	static function collectVarsFromExpr(x:reflaxe.elixir.ast.ElixirAST, out:Map<String, Bool>) {
		if (x == null || x.def == null) {
			return;
		};
		@:ast(switch (x.def) {
	case EVar(v):
		out.set(v, true);	
	case EBlock(ss):
		for (s  in  ss) collectVarsFromExpr(s, out);	
	case EIf(c, t, e):
		collectVarsFromExpr(c, out);
		collectVarsFromExpr(t, out);
		if (e != null) collectVarsFromExpr(e, out);	
	case EBinary(_, l, r):
		collectVarsFromExpr(l, out);
		collectVarsFromExpr(r, out);	
	case ECall(tgt, _, args):
		if (tgt != null) collectVarsFromExpr(tgt, out);
		for (a  in  args) collectVarsFromExpr(a, out);	
	case ERemoteCall(tgt2, _, args2):
		collectVarsFromExpr(tgt2, out);
		for (a2  in  args2) collectVarsFromExpr(a2, out);	
	case EFn(clauses):
		for (cl  in  clauses) {
			var inner:Map<String,Bool> = new Map();
			if (cl.guard != null) collectVarsFromExpr(cl.guard, inner);
			if (cl.body != null) collectVarsFromExpr(cl.body, inner);
			var params:Map<String,Bool> = new Map();
			for (arg  in  cl.args) switch (arg) {
				case PVar(nm):
					params.set(nm, true);				
				default:
			};
			for (k  in  inner.keys()) if (!params.exists(k)) out.set(k, true);
		};	
	case ETuple(elems):
		for (e  in  elems) collectVarsFromExpr(e, out);	
	case EMap(pairs):
		for (p  in  pairs) collectVarsFromExpr(p.value, out);	
	case EField(obj, _):
		switch (obj.def) {
			case EVar(vf):
				out.set(vf, true);			
			default:
				collectVarsFromExpr(obj, out);			
		};	
	default:
}) {
			var ` = x.def;
			switch (enumIndex `) {
				case 10: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var c = `;
						var t = `;
						var e = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(c, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(t, out);
							if (e != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(e, out);
							};
						};
					};
				};
				case 16: {
					var ` = `[0];
					{
						var elems = `;
						{
							{
								var ` = 0;
								while (` < elems.length) {
									var e = elems[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(e, out);
								};
							};
						};
					};
				};
				case 17: {
					var ` = `[0];
					{
						var pairs = `;
						{
							{
								var ` = 0;
								while (` < pairs.length) {
									var p = pairs[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(p.value, out);
								};
							};
						};
					};
				};
				case 22: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var tgt = `;
						var args = `;
						{
							if (tgt != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(tgt, out);
							};
							{
								var ` = 0;
								while (` < args.length) {
									var a = args[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(a, out);
								};
							};
						};
					};
				};
				case 24: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var tgt2 = `;
						var args2 = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(tgt2, out);
							{
								var ` = 0;
								while (` < args2.length) {
									var a2 = args2[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(a2, out);
								};
							};
						};
					};
				};
				case 26: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var l = `;
						var r = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(l, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(r, out);
						};
					};
				};
				case 28: {
					var ` = `[0];
					var ` = `[1];
					{
						var obj = `;
						{
							@:ast(switch (obj.def) {
	case EVar(vf):
		out.set(vf, true);	
	default:
		collectVarsFromExpr(obj, out);	
}) {
								var ` = obj.def;
								if (enumIndex ` == 38) {
									var ` = `[0];
									{
										var vf = `;
										{
											{
												out.set(vf, true);
											};
										};
									};
								} else {
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(obj, out);
								};
							};
						};
					};
				};
				case 38: {
					var ` = `[0];
					{
						var v = `;
						{
							{
								out.set(v, true);
							};
						};
					};
				};
				case 42: {
					var ` = `[0];
					{
						var clauses = `;
						{
							{
								var ` = 0;
								while (` < clauses.length) {
									var cl = clauses[`];
									++ `;
									var inner = {
										{};
										new haxe.ds.StringMap();
									};
									if (cl.guard != null) {
										reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(cl.guard, inner);
									};
									if (cl.body != null) {
										reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(cl.body, inner);
									};
									var params = {
										{};
										new haxe.ds.StringMap();
									};
									{
										var ` = 0;
										var ` = cl.args;
										while (` < `.length) {
											var arg = `[`];
											++ `;
											@:ast(switch (arg) {
	case PVar(nm):
		params.set(nm, true);	
	default:
}) if (enumIndex arg == 0) {
												var ` = arg[0];
												{
													var nm = `;
													{
														{
															params.set(nm, true);
														};
													};
												};
											} else {};
										};
									};
									for (k in inner.keys()) {
										if (! params.exists(k)) {
											{
												out.set(k, true);
											};
										};
									};
								};
							};
						};
					};
				};
				case 53: {
					var ` = `[0];
					{
						var ss = `;
						{
							{
								var ` = 0;
								while (` < ss.length) {
									var s = ss[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVarsFromExpr(s, out);
								};
							};
						};
					};
				};
				default: {}
			};
		};
	}

	static function collectVars(n:reflaxe.elixir.ast.ElixirAST, out:Map<String, Bool>) {
		if (n == null || n.def == null) {
			return;
		};
		@:ast(switch (n.def) {
	case EVar(v):
		out.set(v, true);	
	case EBlock(ss):
		for (s  in  ss) collectVars(s, out);	
	case EIf(c, t, e):
		collectVars(c, out);
		collectVars(t, out);
		if (e != null) collectVars(e, out);	
	case EBinary(_, l, r):
		collectVars(l, out);
		collectVars(r, out);	
	case EMatch(_, rhs):
		collectVars(rhs, out);	
	case ECall(tgt, _, args):
		if (tgt != null) collectVars(tgt, out);
		for (a  in  args) collectVars(a, out);	
	case ERemoteCall(tgt2, _, args2):
		collectVars(tgt2, out);
		for (a2  in  args2) collectVars(a2, out);	
	case EFn(clauses):
		for (cl  in  clauses) {
			var inner:Map<String,Bool> = new Map();
			if (cl.guard != null) collectVars(cl.guard, inner);
			if (cl.body != null) collectVars(cl.body, inner);
			var params:Map<String,Bool> = new Map();
			for (arg  in  cl.args) switch (arg) {
				case PVar(nm):
					params.set(nm, true);				
				default:
			};
			for (k  in  inner.keys()) if (!params.exists(k)) out.set(k, true);
		};	
	case EMap(pairs):
		for (p  in  pairs) {
			collectVars(p.key, out);
			collectVars(p.value, out);
		};	
	case EKeywordList(pairs):
		for (p  in  pairs) collectVars(p.value, out);	
	case EStructUpdate(base, fields):
		collectVars(base, out);
		for (f  in  fields) collectVars(f.value, out);	
	case ETuple(elems):
		for (e  in  elems) collectVars(e, out);	
	default:
}) {
			var ` = n.def;
			switch (enumIndex `) {
				case 8: {
					var ` = `[0];
					var ` = `[1];
					{
						var rhs = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(rhs, out);
						};
					};
				};
				case 10: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var c = `;
						var t = `;
						var e = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(c, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(t, out);
							if (e != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(e, out);
							};
						};
					};
				};
				case 16: {
					var ` = `[0];
					{
						var elems = `;
						{
							{
								var ` = 0;
								while (` < elems.length) {
									var e = elems[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(e, out);
								};
							};
						};
					};
				};
				case 17: {
					var ` = `[0];
					{
						var pairs = `;
						{
							{
								var ` = 0;
								while (` < pairs.length) {
									var p = pairs[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(p.key, out);
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(p.value, out);
								};
							};
						};
					};
				};
				case 19: {
					var ` = `[0];
					var ` = `[1];
					{
						var base = `;
						var fields = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(base, out);
							{
								var ` = 0;
								while (` < fields.length) {
									var f = fields[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(f.value, out);
								};
							};
						};
					};
				};
				case 20: {
					var ` = `[0];
					{
						var pairs = `;
						{
							{
								var ` = 0;
								while (` < pairs.length) {
									var p = pairs[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(p.value, out);
								};
							};
						};
					};
				};
				case 22: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var tgt = `;
						var args = `;
						{
							if (tgt != null) {
								reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(tgt, out);
							};
							{
								var ` = 0;
								while (` < args.length) {
									var a = args[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(a, out);
								};
							};
						};
					};
				};
				case 24: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var tgt2 = `;
						var args2 = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(tgt2, out);
							{
								var ` = 0;
								while (` < args2.length) {
									var a2 = args2[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(a2, out);
								};
							};
						};
					};
				};
				case 26: {
					var ` = `[0];
					var ` = `[1];
					var ` = `[2];
					{
						var l = `;
						var r = `;
						{
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(l, out);
							reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(r, out);
						};
					};
				};
				case 38: {
					var ` = `[0];
					{
						var v = `;
						{
							{
								out.set(v, true);
							};
						};
					};
				};
				case 42: {
					var ` = `[0];
					{
						var clauses = `;
						{
							{
								var ` = 0;
								while (` < clauses.length) {
									var cl = clauses[`];
									++ `;
									var inner = {
										{};
										new haxe.ds.StringMap();
									};
									if (cl.guard != null) {
										reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(cl.guard, inner);
									};
									if (cl.body != null) {
										reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(cl.body, inner);
									};
									var params = {
										{};
										new haxe.ds.StringMap();
									};
									{
										var ` = 0;
										var ` = cl.args;
										while (` < `.length) {
											var arg = `[`];
											++ `;
											@:ast(switch (arg) {
	case PVar(nm):
		params.set(nm, true);	
	default:
}) if (enumIndex arg == 0) {
												var ` = arg[0];
												{
													var nm = `;
													{
														{
															params.set(nm, true);
														};
													};
												};
											} else {};
										};
									};
									for (k in inner.keys()) {
										if (! params.exists(k)) {
											{
												out.set(k, true);
											};
										};
									};
								};
							};
						};
					};
				};
				case 53: {
					var ` = `[0];
					{
						var ss = `;
						{
							{
								var ` = 0;
								while (` < ss.length) {
									var s = ss[`];
									++ `;
									reflaxe.elixir.ast.transformers.WildcardPromoteByUndeclaredUseTransforms.collectVars(s, out);
								};
							};
						};
					};
				};
				default: {}
			};
		};
	}
}