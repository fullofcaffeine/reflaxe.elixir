class reflaxe.elixir.ast.transformers.JoinArgListBuilderToMapJoinTransforms {

	public static function transformPass(ast:reflaxe.elixir.ast.ElixirAST) {
		return reflaxe.elixir.ast.ElixirASTTransformer.transformNode(ast, function(n:reflaxe.elixir.ast.ElixirAST) {
			return @:ast(switch (n.def) {
	case ERemoteCall(mod, "join", args) if (args != null && args.length == 2):
		switch (mod.def) {
			case EVar(m) if (m == "Enum"):
				var block = args[0];
				var sep = args[1];
				var rewrite = tryRewriteJoinArgBlock(block);
				if (rewrite != null) {
					var mapCall = rewrite;
					var joinCall = makeAST(ERemoteCall(makeAST(EVar("Enum")), "join", [mapCall, sep]));
					makeASTWithMeta(joinCall.def, n.metadata, n.pos);
				} else {
					switch (block.def) {
						case EBlock(_):
							var iife = makeAST(ECall(makeAST(EFn([{ args : [], guard : null, body : block }])), "", []));
							makeASTWithMeta(ERemoteCall(makeAST(EVar("Enum")), "join", [iife, sep]), n.metadata, n.pos);						
						default:
							n;						
					};
				};			
			default:
				n;			
		};	
	case ECall(target, "join", args) if (args != null && args.length == 1 && target != null):
		var listLike = target;
		var sep1 = args[0];
		var rewrite2 = tryRewriteJoinArgBlock(listLike);
		if (rewrite2 != null) {
			var joinCall2 = makeAST(ERemoteCall(makeAST(EVar("Enum")), "join", [rewrite2, sep1]));
			makeASTWithMeta(joinCall2.def, n.metadata, n.pos);
		} else switch (listLike.def) {
			case EBlock(_):
				var iife2 = makeAST(ECall(makeAST(EFn([{ args : [], guard : null, body : listLike }])), "", []));
				makeASTWithMeta(ERemoteCall(makeAST(EVar("Enum")), "join", [iife2, sep1]), n.metadata, n.pos);			
			default:
				n;			
		};	
	default:
		n;	
}) {
				var ` = n.def;
				switch (enumIndex `) {
					case 22: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						if (` == "join") {
							{
								var target = `;
								var args = `;
								if (args != null && args.length == 1 && target != null) {
									var listLike = target;
									var sep1 = args[0];
									var rewrite2 = reflaxe.elixir.ast.transformers.JoinArgListBuilderToMapJoinTransforms.tryRewriteJoinArgBlock(listLike);
									if (rewrite2 != null) {
										var joinCall2 = {
											var pos = null;
											{def : reflaxe.elixir.ast.ElixirASTDef.ERemoteCall({
												var pos = null;
												{def : reflaxe.elixir.ast.ElixirASTDef.EVar("Enum"), metadata : {}, pos : pos};
											}, "join", [rewrite2, sep1]), metadata : {}, pos : pos};
										};
										{def : joinCall2.def, metadata : n.metadata, pos : n.pos};
									} else {
										@:ast(switch (listLike.def) {
	case EBlock(_):
		var iife2 = makeAST(ECall(makeAST(EFn([{ args : [], guard : null, body : listLike }])), "", []));
		makeASTWithMeta(ERemoteCall(makeAST(EVar("Enum")), "join", [iife2, sep1]), n.metadata, n.pos);	
	default:
		n;	
}) {
											var ` = listLike.def;
											if (enumIndex ` == 53) {
												var ` = `[0];
												{
													var iife2 = {
														var pos = null;
														{def : reflaxe.elixir.ast.ElixirASTDef.ECall({
															var pos = null;
															{def : reflaxe.elixir.ast.ElixirASTDef.EFn([{args : [], guard : null, body : listLike}]), metadata : {}, pos : pos};
														}, "", []), metadata : {}, pos : pos};
													};
													{def : reflaxe.elixir.ast.ElixirASTDef.ERemoteCall({
														var pos = null;
														{def : reflaxe.elixir.ast.ElixirASTDef.EVar("Enum"), metadata : {}, pos : pos};
													}, "join", [iife2, sep1]), metadata : n.metadata, pos : n.pos};
												};
											} else {
												n;
											};
										};
									};
								} else {
									n;
								};
							};
						} else {
							n;
						};
					};
					case 24: {
						var ` = `[0];
						var ` = `[1];
						var ` = `[2];
						if (` == "join") {
							{
								var mod = `;
								var args = `;
								if (args != null && args.length == 2) {
									@:ast(switch (mod.def) {
	case EVar(m) if (m == "Enum"):
		var block = args[0];
		var sep = args[1];
		var rewrite = tryRewriteJoinArgBlock(block);
		if (rewrite != null) {
			var mapCall = rewrite;
			var joinCall = makeAST(ERemoteCall(makeAST(EVar("Enum")), "join", [mapCall, sep]));
			makeASTWithMeta(joinCall.def, n.metadata, n.pos);
		} else {
			switch (block.def) {
				case EBlock(_):
					var iife = makeAST(ECall(makeAST(EFn([{ args : [], guard : null, body : block }])), "", []));
					makeASTWithMeta(ERemoteCall(makeAST(EVar("Enum")), "join", [iife, sep]), n.metadata, n.pos);				
				default:
					n;				
			};
		};	
	default:
		n;	
}) {
										var ` = mod.def;
										if (enumIndex ` == 38) {
											var ` = `[0];
											{
												var m = `;
												if (m == "Enum") {
													var block = args[0];
													var sep = args[1];
													var rewrite = reflaxe.elixir.ast.transformers.JoinArgListBuilderToMapJoinTransforms.tryRewriteJoinArgBlock(block);
													if (rewrite != null) {
														var mapCall = rewrite;
														var joinCall = {
															var pos = null;
															{def : reflaxe.elixir.ast.ElixirASTDef.ERemoteCall({
																var pos = null;
																{def : reflaxe.elixir.ast.ElixirASTDef.EVar("Enum"), metadata : {}, pos : pos};
															}, "join", [mapCall, sep]), metadata : {}, pos : pos};
														};
														{def : joinCall.def, metadata : n.metadata, pos : n.pos};
													} else {
														@:ast(switch (block.def) {
	case EBlock(_):
		var iife = makeAST(ECall(makeAST(EFn([{ args : [], guard : null, body : block }])), "", []));
		makeASTWithMeta(ERemoteCall(makeAST(EVar("Enum")), "join", [iife, sep]), n.metadata, n.pos);	
	default:
		n;	
}) {
															var ` = block.def;
															if (enumIndex ` == 53) {
																var ` = `[0];
																{
																	var iife = {
																		var pos = null;
																		{def : reflaxe.elixir.ast.ElixirASTDef.ECall({
																			var pos = null;
																			{def : reflaxe.elixir.ast.ElixirASTDef.EFn([{args : [], guard : null, body : block}]), metadata : {}, pos : pos};
																		}, "", []), metadata : {}, pos : pos};
																	};
																	{def : reflaxe.elixir.ast.ElixirASTDef.ERemoteCall({
																		var pos = null;
																		{def : reflaxe.elixir.ast.ElixirASTDef.EVar("Enum"), metadata : {}, pos : pos};
																	}, "join", [iife, sep]), metadata : n.metadata, pos : n.pos};
																};
															} else {
																n;
															};
														};
													};
												} else {
													n;
												};
											};
										} else {
											n;
										};
									};
								} else {
									n;
								};
							};
						} else {
							n;
						};
					};
					default: {
						n;
					}
				};
			};
		});
	}

	static function tryRewriteJoinArgBlock(block:reflaxe.elixir.ast.ElixirAST) {
		var candidate = @:ast(switch (block.def) {
	case ECall({ def : EFn(fns) }, _, _) if (fns.length == 1):
		var body = fns[0].body;
		switch (body.def) {
			case EBlock(_):
				body;			
			default:
				block;			
		};	
	default:
		block;	
}) {
			var ` = block.def;
			if (enumIndex ` == 22) {
				var ` = `[0];
				var ` = `[1];
				var ` = `[2];
				if (` == null) {
					block;
				} else {
					var ` = `.def;
					var ` = `.metadata;
					var ` = `.pos;
					if (enumIndex ` == 42) {
						var ` = `[0];
						{
							var fns = `;
							if (fns.length == 1) {
								var body = fns[0].body;
								@:ast(switch (body.def) {
	case EBlock(_):
		body;	
	default:
		block;	
}) {
									var ` = body.def;
									if (enumIndex ` == 53) {
										var ` = `[0];
										{
											body;
										};
									} else {
										block;
									};
								};
							} else {
								block;
							};
						};
					} else {
						block;
					};
				};
			} else {
				block;
			};
		};
		return @:ast(switch (candidate.def) {
	case EBlock(stmts) if (stmts.length >= 3):
		var temp:Null<String> = null;
		var builderVar:Null<String> = null;
		var listExpr:Null<ElixirAST> = null;
		var binder:String = "item";
		var valueExpr:Null<ElixirAST> = null;
		var inlineVar:Null<String> = null;
		var inlineExpr:Null<ElixirAST> = null;
		switch (stmts[0].def) {
			case EBinary(Match, { def : EVar(tn) }, { def : EList([]) }):
				temp = tn;			
			case EMatch(PVar(tn2), { def : EList([]) }):
				temp = tn2;			
			default:
				return null;			
		};
		var eachIdx = -1;
		for (i  in  1 ... stmts.length - 1) switch (stmts[i].def) {
			case ERemoteCall({ def : EVar("Enum") }, "each", eargs) if (eargs != null && eargs.length == 2):
				listExpr = eargs[0];
				switch (eargs[1].def) {
					case EFn(clauses) if (clauses.length == 1):
						var cl = clauses[0];
						switch (cl.args.length > 0 ? cl.args[0] : null) {
							case PVar(n):
								binder = n;							
							default:
						};
						var bodyStmts:Array<ElixirAST> = switch (cl.body.def) {
							case EBlock(ss):
								ss;							
							default:
								[cl.body];							
						};
						for (bs  in  bodyStmts) switch (bs.def) {
							case EBinary(Match, { def : EVar(lhsTmp) }, rhsTmp):
								switch (rhsTmp.def) {
									case EBinary(Add, { def : EVar(bv) }, incrRhs) if (bv == binder):
										inlineVar = lhsTmp;
										inlineExpr = rhsTmp;									
									default:
										switch (rhsTmp.def) {
											case ERemoteCall({ def : EVar("Enum") }, "concat", cargs2) if (cargs2.length == 2):
												switch (cargs2[0].def) {
													case EVar(vacc) if (vacc == lhsTmp):
														builderVar = lhsTmp;													
													default:
												};											
											default:
										};									
								};							
							case EBinary(Match, { def : EVar(lhs) }, rhs):
								switch (rhs.def) {
									case ERemoteCall({ def : EVar("Enum") }, "concat", cargs) if (cargs.length == 2):
										var baseOk = switch (cargs[0].def) {
											case EVar(v) if (v == (builderVar != null ? builderVar : temp)):
												true;											
											default:
												false;											
										};
										if (baseOk) switch (cargs[1].def) {
											case EList(items) if (items.length == 1):
												valueExpr = items[0];											
											default:
										};
										if (builderVar == null) switch (cargs[0].def) {
											case EVar(vb):
												builderVar = vb;											
											default:
										};									
									default:
								};							
							default:
						};					
					default:
				};
				eachIdx = i;			
			default:
		};
		if (listExpr == null || valueExpr == null || eachIdx == -1) return null;
		if (valueExpr != null && inlineVar != null && inlineExpr != null) {
			valueExpr = substituteVar(valueExpr, inlineVar, inlineExpr);
		};
		var last = stmts[stmts.length - 1];
		var accName = (builderVar != null ? builderVar : temp);
		var returnsAcc = switch (last.def) {
			case EVar(nm) if (nm == accName):
				true;			
			default:
				false;			
		};
		if (!returnsAcc) return null;
		var fnNode = makeAST(EFn([{ args : [PVar(binder)], guard : null, body : valueExpr }]));
		makeAST(ERemoteCall(makeAST(EVar("Enum")), "map", [listExpr, fnNode]));	
	default:
		null;	
}) {
			var ` = candidate.def;
			if (enumIndex ` == 53) {
				var ` = `[0];
				{
					var stmts = `;
					if (stmts.length >= 3) {
						var temp = null;
						var builderVar = null;
						var listExpr = null;
						var binder = "item";
						var valueExpr = null;
						var inlineVar = null;
						var inlineExpr = null;
						@:ast(switch (stmts[0].def) {
	case EBinary(Match, { def : EVar(tn) }, { def : EList([]) }):
		temp = tn;	
	case EMatch(PVar(tn2), { def : EList([]) }):
		temp = tn2;	
	default:
		return null;	
}) {
							var ` = stmts[0].def;
							switch (enumIndex `) {
								case 8: {
									var ` = `[0];
									var ` = `[1];
									if (enumIndex ` == 0) {
										var ` = `[0];
										{
											var ` = `.def;
											var ` = `.metadata;
											var ` = `.pos;
											if (enumIndex ` == 15) {
												var ` = `[0];
												if (`.length == 0) {
													{
														var tn2 = `;
														{
															temp = tn2;
														};
													};
												} else {
													return null;
												};
											} else {
												return null;
											};
										};
									} else {
										return null;
									};
								};
								case 26: {
									var ` = `[0];
									var ` = `[1];
									var ` = `[2];
									if (enumIndex ` == 27) {
										{
											var ` = `.def;
											var ` = `.metadata;
											var ` = `.pos;
											if (enumIndex ` == 38) {
												var ` = `[0];
												{
													var ` = `.def;
													var ` = `.metadata;
													var ` = `.pos;
													if (enumIndex ` == 15) {
														var ` = `[0];
														if (`.length == 0) {
															{
																var tn = `;
																{
																	temp = tn;
																};
															};
														} else {
															return null;
														};
													} else {
														return null;
													};
												};
											} else {
												return null;
											};
										};
									} else {
										return null;
									};
								};
								default: {
									return null;
								}
							};
						};
						var eachIdx = -1;
						{
							var ` = 1;
							var ` = stmts.length - 1;
							while (` < `) {
								var i = ` ++;
								@:ast(switch (stmts[i].def) {
	case ERemoteCall({ def : EVar("Enum") }, "each", eargs) if (eargs != null && eargs.length == 2):
		listExpr = eargs[0];
		switch (eargs[1].def) {
			case EFn(clauses) if (clauses.length == 1):
				var cl = clauses[0];
				switch (cl.args.length > 0 ? cl.args[0] : null) {
					case PVar(n):
						binder = n;					
					default:
				};
				var bodyStmts:Array<ElixirAST> = switch (cl.body.def) {
					case EBlock(ss):
						ss;					
					default:
						[cl.body];					
				};
				for (bs  in  bodyStmts) switch (bs.def) {
					case EBinary(Match, { def : EVar(lhsTmp) }, rhsTmp):
						switch (rhsTmp.def) {
							case EBinary(Add, { def : EVar(bv) }, incrRhs) if (bv == binder):
								inlineVar = lhsTmp;
								inlineExpr = rhsTmp;							
							default:
								switch (rhsTmp.def) {
									case ERemoteCall({ def : EVar("Enum") }, "concat", cargs2) if (cargs2.length == 2):
										switch (cargs2[0].def) {
											case EVar(vacc) if (vacc == lhsTmp):
												builderVar = lhsTmp;											
											default:
										};									
									default:
								};							
						};					
					case EBinary(Match, { def : EVar(lhs) }, rhs):
						switch (rhs.def) {
							case ERemoteCall({ def : EVar("Enum") }, "concat", cargs) if (cargs.length == 2):
								var baseOk = switch (cargs[0].def) {
									case EVar(v) if (v == (builderVar != null ? builderVar : temp)):
										true;									
									default:
										false;									
								};
								if (baseOk) switch (cargs[1].def) {
									case EList(items) if (items.length == 1):
										valueExpr = items[0];									
									default:
								};
								if (builderVar == null) switch (cargs[0].def) {
									case EVar(vb):
										builderVar = vb;									
									default:
								};							
							default:
						};					
					default:
				};			
			default:
		};
		eachIdx = i;	
	default:
}) {
									var ` = stmts[i].def;
									if (enumIndex ` == 24) {
										var ` = `[0];
										var ` = `[1];
										var ` = `[2];
										{
											var ` = `.def;
											var ` = `.metadata;
											var ` = `.pos;
											if (enumIndex ` == 38) {
												var ` = `[0];
												if (` == "Enum") {
													if (` == "each") {
														{
															var eargs = `;
															if (eargs != null && eargs.length == 2) {
																listExpr = eargs[0];
																@:ast(switch (eargs[1].def) {
	case EFn(clauses) if (clauses.length == 1):
		var cl = clauses[0];
		switch (cl.args.length > 0 ? cl.args[0] : null) {
			case PVar(n):
				binder = n;			
			default:
		};
		var bodyStmts:Array<ElixirAST> = switch (cl.body.def) {
			case EBlock(ss):
				ss;			
			default:
				[cl.body];			
		};
		for (bs  in  bodyStmts) switch (bs.def) {
			case EBinary(Match, { def : EVar(lhsTmp) }, rhsTmp):
				switch (rhsTmp.def) {
					case EBinary(Add, { def : EVar(bv) }, incrRhs) if (bv == binder):
						inlineVar = lhsTmp;
						inlineExpr = rhsTmp;					
					default:
						switch (rhsTmp.def) {
							case ERemoteCall({ def : EVar("Enum") }, "concat", cargs2) if (cargs2.length == 2):
								switch (cargs2[0].def) {
									case EVar(vacc) if (vacc == lhsTmp):
										builderVar = lhsTmp;									
									default:
								};							
							default:
						};					
				};			
			case EBinary(Match, { def : EVar(lhs) }, rhs):
				switch (rhs.def) {
					case ERemoteCall({ def : EVar("Enum") }, "concat", cargs) if (cargs.length == 2):
						var baseOk = switch (cargs[0].def) {
							case EVar(v) if (v == (builderVar != null ? builderVar : temp)):
								true;							
							default:
								false;							
						};
						if (baseOk) switch (cargs[1].def) {
							case EList(items) if (items.length == 1):
								valueExpr = items[0];							
							default:
						};
						if (builderVar == null) switch (cargs[0].def) {
							case EVar(vb):
								builderVar = vb;							
							default:
						};					
					default:
				};			
			default:
		};	
	default:
}) {
																	var ` = eargs[1].def;
																	if (enumIndex ` == 42) {
																		var ` = `[0];
																		{
																			var clauses = `;
																			if (clauses.length == 1) {
																				var cl = clauses[0];
																				@:ast(switch (cl.args.length > 0 ? cl.args[0] : null) {
	case PVar(n):
		binder = n;	
	default:
}) {
																					var ` = if (cl.args.length > 0) {
																						cl.args[0];
																					} else {
																						null;
																					};
																					if (` == null) {} else if (enumIndex ` == 0) {
																						var ` = `[0];
																						{
																							var n = `;
																							{
																								binder = n;
																							};
																						};
																					} else {};
																				};
																				var bodyStmts = @:ast(switch (cl.body.def) {
	case EBlock(ss):
		ss;	
	default:
		[cl.body];	
}) {
																					var ` = cl.body.def;
																					if (enumIndex ` == 53) {
																						var ` = `[0];
																						{
																							var ss = `;
																							{
																								ss;
																							};
																						};
																					} else {
																						[cl.body];
																					};
																				};
																				{
																					var ` = 0;
																					while (` < bodyStmts.length) {
																						var bs = bodyStmts[`];
																						++ `;
																						@:ast(switch (bs.def) {
	case EBinary(Match, { def : EVar(lhsTmp) }, rhsTmp):
		switch (rhsTmp.def) {
			case EBinary(Add, { def : EVar(bv) }, incrRhs) if (bv == binder):
				inlineVar = lhsTmp;
				inlineExpr = rhsTmp;			
			default:
				switch (rhsTmp.def) {
					case ERemoteCall({ def : EVar("Enum") }, "concat", cargs2) if (cargs2.length == 2):
						switch (cargs2[0].def) {
							case EVar(vacc) if (vacc == lhsTmp):
								builderVar = lhsTmp;							
							default:
						};					
					default:
				};			
		};	
	case EBinary(Match, { def : EVar(lhs) }, rhs):
		switch (rhs.def) {
			case ERemoteCall({ def : EVar("Enum") }, "concat", cargs) if (cargs.length == 2):
				var baseOk = switch (cargs[0].def) {
					case EVar(v) if (v == (builderVar != null ? builderVar : temp)):
						true;					
					default:
						false;					
				};
				if (baseOk) switch (cargs[1].def) {
					case EList(items) if (items.length == 1):
						valueExpr = items[0];					
					default:
				};
				if (builderVar == null) switch (cargs[0].def) {
					case EVar(vb):
						builderVar = vb;					
					default:
				};			
			default:
		};	
	default:
}) {
																							var ` = bs.def;
																							if (enumIndex ` == 26) {
																								var ` = `[0];
																								var ` = `[1];
																								var ` = `[2];
																								if (enumIndex ` == 27) {
																									{
																										var ` = `.def;
																										var ` = `.metadata;
																										var ` = `.pos;
																										if (enumIndex ` == 38) {
																											var ` = `[0];
																											{
																												var lhsTmp = `;
																												var rhsTmp = `;
																												{
																													@:ast(switch (rhsTmp.def) {
	case EBinary(Add, { def : EVar(bv) }, incrRhs) if (bv == binder):
		inlineVar = lhsTmp;
		inlineExpr = rhsTmp;	
	default:
		switch (rhsTmp.def) {
			case ERemoteCall({ def : EVar("Enum") }, "concat", cargs2) if (cargs2.length == 2):
				switch (cargs2[0].def) {
					case EVar(vacc) if (vacc == lhsTmp):
						builderVar = lhsTmp;					
					default:
				};			
			default:
		};	
}) {
																														var ` = rhsTmp.def;
																														if (enumIndex ` == 26) {
																															var ` = `[0];
																															var ` = `[1];
																															var ` = `[2];
																															if (enumIndex ` == 0) {
																																{
																																	var ` = `.def;
																																	var ` = `.metadata;
																																	var ` = `.pos;
																																	if (enumIndex ` == 38) {
																																		var ` = `[0];
																																		{
																																			var bv = `;
																																			var incrRhs = `;
																																			if (bv == binder) {
																																				inlineVar = lhsTmp;
																																				inlineExpr = rhsTmp;
																																			} else {
																																				@:ast(switch (rhsTmp.def) {
	case ERemoteCall({ def : EVar("Enum") }, "concat", cargs2) if (cargs2.length == 2):
		switch (cargs2[0].def) {
			case EVar(vacc) if (vacc == lhsTmp):
				builderVar = lhsTmp;			
			default:
		};	
	default:
}) {
																																					var ` = rhsTmp.def;
																																					if (enumIndex ` == 24) {
																																						var ` = `[0];
																																						var ` = `[1];
																																						var ` = `[2];
																																						{
																																							var ` = `.def;
																																							var ` = `.metadata;
																																							var ` = `.pos;
																																							if (enumIndex ` == 38) {
																																								var ` = `[0];
																																								if (` == "Enum") {
																																									if (` == "concat") {
																																										{
																																											var cargs2 = `;
																																											if (cargs2.length == 2) {
																																												@:ast(switch (cargs2[0].def) {
	case EVar(vacc) if (vacc == lhsTmp):
		builderVar = lhsTmp;	
	default:
}) {
																																													var ` = cargs2[0].def;
																																													if (enumIndex ` == 38) {
																																														var ` = `[0];
																																														{
																																															var vacc = `;
																																															if (vacc == lhsTmp) {
																																																builderVar = lhsTmp;
																																															} else {};
																																														};
																																													} else {};
																																												};
																																											} else {};
																																										};
																																									} else {};
																																								} else {};
																																							} else {};
																																						};
																																					} else {};
																																				};
																																			};
																																		};
																																	} else {
																																		@:ast(switch (rhsTmp.def) {
	case ERemoteCall({ def : EVar("Enum") }, "concat", cargs2) if (cargs2.length == 2):
		switch (cargs2[0].def) {
			case EVar(vacc) if (vacc == lhsTmp):
				builderVar = lhsTmp;			
			default:
		};	
	default:
}) {
																																			var ` = rhsTmp.def;
																																			if (enumIndex ` == 24) {
																																				var ` = `[0];
																																				var ` = `[1];
																																				var ` = `[2];
																																				{
																																					var ` = `.def;
																																					var ` = `.metadata;
																																					var ` = `.pos;
																																					if (enumIndex ` == 38) {
																																						var ` = `[0];
																																						if (` == "Enum") {
																																							if (` == "concat") {
																																								{
																																									var cargs2 = `;
																																									if (cargs2.length == 2) {
																																										@:ast(switch (cargs2[0].def) {
	case EVar(vacc) if (vacc == lhsTmp):
		builderVar = lhsTmp;	
	default:
}) {
																																											var ` = cargs2[0].def;
																																											if (enumIndex ` == 38) {
																																												var ` = `[0];
																																												{
																																													var vacc = `;
																																													if (vacc == lhsTmp) {
																																														builderVar = lhsTmp;
																																													} else {};
																																												};
																																											} else {};
																																										};
																																									} else {};
																																								};
																																							} else {};
																																						} else {};
																																					} else {};
																																				};
																																			} else {};
																																		};
																																	};
																																};
																															} else {
																																@:ast(switch (rhsTmp.def) {
	case ERemoteCall({ def : EVar("Enum") }, "concat", cargs2) if (cargs2.length == 2):
		switch (cargs2[0].def) {
			case EVar(vacc) if (vacc == lhsTmp):
				builderVar = lhsTmp;			
			default:
		};	
	default:
}) {
																																	var ` = rhsTmp.def;
																																	if (enumIndex ` == 24) {
																																		var ` = `[0];
																																		var ` = `[1];
																																		var ` = `[2];
																																		{
																																			var ` = `.def;
																																			var ` = `.metadata;
																																			var ` = `.pos;
																																			if (enumIndex ` == 38) {
																																				var ` = `[0];
																																				if (` == "Enum") {
																																					if (` == "concat") {
																																						{
																																							var cargs2 = `;
																																							if (cargs2.length == 2) {
																																								@:ast(switch (cargs2[0].def) {
	case EVar(vacc) if (vacc == lhsTmp):
		builderVar = lhsTmp;	
	default:
}) {
																																									var ` = cargs2[0].def;
																																									if (enumIndex ` == 38) {
																																										var ` = `[0];
																																										{
																																											var vacc = `;
																																											if (vacc == lhsTmp) {
																																												builderVar = lhsTmp;
																																											} else {};
																																										};
																																									} else {};
																																								};
																																							} else {};
																																						};
																																					} else {};
																																				} else {};
																																			} else {};
																																		};
																																	} else {};
																																};
																															};
																														} else {
																															@:ast(switch (rhsTmp.def) {
	case ERemoteCall({ def : EVar("Enum") }, "concat", cargs2) if (cargs2.length == 2):
		switch (cargs2[0].def) {
			case EVar(vacc) if (vacc == lhsTmp):
				builderVar = lhsTmp;			
			default:
		};	
	default:
}) {
																																var ` = rhsTmp.def;
																																if (enumIndex ` == 24) {
																																	var ` = `[0];
																																	var ` = `[1];
																																	var ` = `[2];
																																	{
																																		var ` = `.def;
																																		var ` = `.metadata;
																																		var ` = `.pos;
																																		if (enumIndex ` == 38) {
																																			var ` = `[0];
																																			if (` == "Enum") {
																																				if (` == "concat") {
																																					{
																																						var cargs2 = `;
																																						if (cargs2.length == 2) {
																																							@:ast(switch (cargs2[0].def) {
	case EVar(vacc) if (vacc == lhsTmp):
		builderVar = lhsTmp;	
	default:
}) {
																																								var ` = cargs2[0].def;
																																								if (enumIndex ` == 38) {
																																									var ` = `[0];
																																									{
																																										var vacc = `;
																																										if (vacc == lhsTmp) {
																																											builderVar = lhsTmp;
																																										} else {};
																																									};
																																								} else {};
																																							};
																																						} else {};
																																					};
																																				} else {};
																																			} else {};
																																		} else {};
																																	};
																																} else {};
																															};
																														};
																													};
																												};
																											};
																										} else {};
																									};
																								} else {};
																							} else {};
																						};
																					};
																				};
																			} else {};
																		};
																	} else {};
																};
																eachIdx = i;
															} else {};
														};
													} else {};
												} else {};
											} else {};
										};
									} else {};
								};
							};
						};
						if (listExpr == null || valueExpr == null || eachIdx == -1) {
							return null;
						};
						if (valueExpr != null && inlineVar != null && inlineExpr != null) {
							valueExpr = reflaxe.elixir.ast.transformers.JoinArgListBuilderToMapJoinTransforms.substituteVar(valueExpr, inlineVar, inlineExpr);
						};
						var last = stmts[stmts.length - 1];
						var accName = (if (builderVar != null) {
							builderVar;
						} else {
							temp;
						});
						var returnsAcc = @:ast(switch (last.def) {
	case EVar(nm) if (nm == accName):
		true;	
	default:
		false;	
}) {
							var ` = last.def;
							if (enumIndex ` == 38) {
								var ` = `[0];
								{
									var nm = `;
									if (nm == accName) {
										true;
									} else {
										false;
									};
								};
							} else {
								false;
							};
						};
						if (! returnsAcc) {
							return null;
						};
						var fnNode = {
							var pos = null;
							{def : reflaxe.elixir.ast.ElixirASTDef.EFn([{args : [reflaxe.elixir.ast.EPattern.PVar(binder)], guard : null, body : valueExpr}]), metadata : {}, pos : pos};
						};
						{
							var pos = null;
							{def : reflaxe.elixir.ast.ElixirASTDef.ERemoteCall({
								var pos = null;
								{def : reflaxe.elixir.ast.ElixirASTDef.EVar("Enum"), metadata : {}, pos : pos};
							}, "map", [listExpr, fnNode]), metadata : {}, pos : pos};
						};
					} else {
						null;
					};
				};
			} else {
				null;
			};
		};
	}

	static function substituteVar(ast:reflaxe.elixir.ast.ElixirAST, varName:String, replacement:reflaxe.elixir.ast.ElixirAST) {
		return reflaxe.elixir.ast.ElixirASTTransformer.transformNode(ast, function(n:reflaxe.elixir.ast.ElixirAST) {
			return @:ast(switch (n.def) {
	case EVar(v) if (v == varName):
		replacement;	
	default:
		n;	
}) {
				var ` = n.def;
				if (enumIndex ` == 38) {
					var ` = `[0];
					{
						var v = `;
						if (v == varName) {
							replacement;
						} else {
							n;
						};
					};
				} else {
					n;
				};
			};
		});
	}
}