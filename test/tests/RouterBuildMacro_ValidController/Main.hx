package;

import reflaxe.elixir.macros.HttpMethod;

/**
 * Valid controller class for testing RouterBuildMacro validation
 */
class UserController {
    public static function index(): String {
        return "User index";
    }
    
    public static function show(): String {
        return "User show";
    }
    
    public static function create(): String {
        return "User create";
    }
}

/**
 * Router test with VALID controller/action references
 * This should compile without warnings
 */
@:router
@:build(reflaxe.elixir.macros.RouterBuildMacro.generateRoutes())
@:routes([
    // Valid controller and action
    {
        name: "userIndex", 
        method: HttpMethod.GET, 
        path: "/users", 
        controller: "UserController", 
        action: "index"
    },
    
    // Another valid route
    {
        name: "userShow", 
        method: HttpMethod.GET, 
        path: "/users/:id", 
        controller: "UserController", 
        action: "show"
    },
    
    // Valid POST route
    {
        name: "userCreate", 
        method: HttpMethod.POST, 
        path: "/users", 
        controller: "UserController", 
        action: "create"
    }
])
class ValidRouterTest {
    // Routes auto-generated by RouterBuildMacro
}

/**
 * Main entry point for test
 */
class Main {
    public static function main() {
        trace("RouterBuildMacro validation test with valid controller/action references");
    }
}