@:nullSafety(Off)
class phoenix.macros.PresenceMacro {

	public static function build() {
		var fields = haxe.macro.Context.getBuildFields();
		var newFields = [];
		var localClass = haxe.macro.Context.getLocalClass();
		var classTopic = null;
		if (localClass != null) {
			var classType = localClass.get();
			if (classType.meta.has(":presenceTopic")) {
				var topicMeta = classType.meta.extract(":presenceTopic");
				if (topicMeta.length > 0 && topicMeta[0].params != null && topicMeta[0].params.length > 0) {
					@:ast(switch (topicMeta[0].params[0].expr) {
	case EConst(CString(s, _)):
		classTopic = s;	
	case _:
		Context.warning("@:presenceTopic requires a string literal", topicMeta[0].pos);	
}) {
						var ` = topicMeta[0].params[0].expr;
						if (enumIndex ` == 0) {
							var ` = `[0];
							if (enumIndex ` == 2) {
								var ` = `[0];
								var ` = `[1];
								{
									var s = `;
									{
										classTopic = s;
									};
								};
							} else {
								haxe.macro.Context.warning("@:presenceTopic requires a string literal", topicMeta[0].pos, null);
							};
						} else {
							haxe.macro.Context.warning("@:presenceTopic requires a string literal", topicMeta[0].pos, null);
						};
					};
				};
			};
		};
		newFields.push(phoenix.macros.PresenceMacro.generateInternalTrack());
		newFields.push(phoenix.macros.PresenceMacro.generateInternalUpdate());
		newFields.push(phoenix.macros.PresenceMacro.generateInternalUntrack());
		if (classTopic != null) {
			newFields.push(phoenix.macros.PresenceMacro.generateSimpleTrack(classTopic));
			newFields.push(phoenix.macros.PresenceMacro.generateSimpleUpdate(classTopic));
			newFields.push(phoenix.macros.PresenceMacro.generateSimpleUntrack(classTopic));
			newFields.push(phoenix.macros.PresenceMacro.generateSimpleList(classTopic));
		};
		newFields.push(phoenix.macros.PresenceMacro.generateTrackWithSocket());
		newFields.push(phoenix.macros.PresenceMacro.generateUpdateWithSocket());
		newFields.push(phoenix.macros.PresenceMacro.generateUntrackWithSocket());
		newFields.push(phoenix.macros.PresenceMacro.generateExternalTrack());
		newFields.push(phoenix.macros.PresenceMacro.generateExternalUpdate());
		newFields.push(phoenix.macros.PresenceMacro.generateExternalUntrack());
		newFields.push(phoenix.macros.PresenceMacro.generateList());
		newFields.push(phoenix.macros.PresenceMacro.generateGetByKey());
		return fields.concat(newFields);
	}

	@:has_untyped
	static function generateInternalTrack() {
		return {name : "trackInternal", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "M"}], args : [{name : "topic", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "meta", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "M", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "Void", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11651, 11661)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("Phoenix.Presence.track({0}, {1}, {2}, {3})", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11662, 11706)}, {expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11723, 11733)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("self()", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11734, 11742)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11723, 11743)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11715, 11743)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("topic")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11745, 11750)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11752, 11755)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("meta")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11757, 11761)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11651, 11762)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11643, 11762)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 11512, 11769)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AExtern, haxe.macro.Access.AInline], doc : "Track presence internally for LiveView contexts. Uses topic string as required by Phoenix.Presence.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateInternalUpdate() {
		return {name : "updateInternal", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "M"}], args : [{name : "topic", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "meta", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "M", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "Void", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12660, 12670)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("Phoenix.Presence.update({0}, {1}, {2}, {3})", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12671, 12716)}, {expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12733, 12743)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("self()", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12744, 12752)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12733, 12753)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12725, 12753)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("topic")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12755, 12760)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12762, 12765)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("meta")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12767, 12771)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12660, 12772)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12652, 12772)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 12576, 12779)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AExtern, haxe.macro.Access.AInline], doc : "Update presence internally for LiveView contexts. Uses topic string as required by Phoenix.Presence.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateInternalUntrack() {
		return {name : "untrackInternal", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({args : [{name : "topic", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "Void", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 13530, 13540)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("Phoenix.Presence.untrack({0}, {1}, {2})", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 13541, 13582)}, {expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 13599, 13609)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("self()", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 13610, 13618)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 13599, 13619)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 13591, 13619)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("topic")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 13621, 13626)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 13628, 13631)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 13530, 13632)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 13522, 13632)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 13445, 13639)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AExtern, haxe.macro.Access.AInline], doc : "Untrack presence internally for LiveView contexts. Uses topic string as required by Phoenix.Presence.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateExternalTrack() {
		return {name : "track", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "T"}, {name : "M"}], args : [{name : "socket", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []})}, {name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "meta", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "M", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.EReturn({expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 14534, 14544)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("Phoenix.Presence.track({0}, {1}, {2})", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 14545, 14584)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("socket")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 14586, 14592)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 14594, 14597)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("meta")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 14599, 14603)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 14534, 14604)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 14526, 14604)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 14519, 14604)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 14456, 14611)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AExtern, haxe.macro.Access.AInline], doc : "Track presence externally (from LiveViews). Calls Phoenix.Presence.track.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateExternalUpdate() {
		return {name : "update", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "T"}, {name : "M"}], args : [{name : "socket", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []})}, {name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "meta", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "M", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.EReturn({expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 15433, 15443)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("Phoenix.Presence.update({0}, {1}, {2})", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 15444, 15484)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("socket")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 15486, 15492)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 15494, 15497)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("meta")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 15499, 15503)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 15433, 15504)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 15425, 15504)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 15418, 15504)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 15343, 15511)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AExtern, haxe.macro.Access.AInline], doc : "Update presence externally (from LiveViews). Calls Phoenix.Presence.update.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateExternalUntrack() {
		return {name : "untrack", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "T"}], args : [{name : "socket", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []})}, {name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.EReturn({expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 16264, 16274)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("Phoenix.Presence.untrack({0}, {1})", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 16275, 16311)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("socket")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 16313, 16319)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 16321, 16324)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 16264, 16325)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 16256, 16325)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 16249, 16325)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 16174, 16332)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AExtern, haxe.macro.Access.AInline], doc : "Untrack presence externally (from LiveViews). Calls Phoenix.Presence.untrack.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateList() {
		return {name : "list", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "T"}, {name : "M"}], args : [{name : "socket", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "Dynamic", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.EReturn({expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 17270, 17280)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("Phoenix.Presence.list({0})", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 17281, 17309)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("socket")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 17311, 17317)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 17270, 17318)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 17262, 17318)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 17255, 17318)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 17054, 17325)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AExtern, haxe.macro.Access.AInline], doc : "List all presences. Automatically detects context and uses appropriate method.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateGetByKey() {
		return {name : "getByKey", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "T"}, {name : "M"}], args : [{name : "socket", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []})}, {name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "Dynamic", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.EReturn({expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 18328, 18338)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("Phoenix.Presence.get_by_key({0}, {1})", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 18339, 18378)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("socket")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 18380, 18386)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 18388, 18391)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 18328, 18392)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 18320, 18392)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 18313, 18392)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 18106, 18399)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AExtern, haxe.macro.Access.AInline], doc : "Get presence by key. Automatically detects context and uses appropriate method.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateSimpleTrack(topic:String) {
		return {name : "trackSimple", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "M"}], args : [{name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "meta", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "M", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "Void", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("trackInternal")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19125, 19138)}, [haxe.macro.Context.makeExpr(topic, $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19142, 19147)), {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19150, 19153)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("meta")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19155, 19159)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19125, 19160)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19084, 19167)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AInline], doc : "Track presence using class-level topic configuration.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateSimpleUpdate(topic:String) {
		return {name : "updateSimple", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "M"}], args : [{name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "meta", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "M", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "Void", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("updateInternal")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19805, 19819)}, [haxe.macro.Context.makeExpr(topic, $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19823, 19828)), {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19831, 19834)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("meta")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19836, 19840)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19805, 19841)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 19764, 19848)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AInline], doc : "Update presence using class-level topic configuration.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateSimpleUntrack(topic:String) {
		return {name : "untrackSimple", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({args : [{name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "Void", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("untrackInternal")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 20385, 20400)}, [haxe.macro.Context.makeExpr(topic, $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 20404, 20409)), {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 20412, 20415)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 20385, 20416)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 20344, 20423)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AInline], doc : "Untrack presence using class-level topic configuration.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateSimpleList(topic:String) {
		return {name : "listSimple", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({args : [], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "Dynamic", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.EReturn({expr : haxe.macro.ExprDef.EUntyped({expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("__elixir__")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21065, 21075)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CString("Phoenix.Presence.list({0})", haxe.macro.StringLiteralKind.SingleQuotes)), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21076, 21104)}, haxe.macro.Context.makeExpr(topic, $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21109, 21114))]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21065, 21116)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21057, 21116)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21050, 21116)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 20982, 21123)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AInline], doc : "List all presences for the class-level topic.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateTrackWithSocket() {
		return {name : "trackWithSocket", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "T"}, {name : "M"}], args : [{name : "socket", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []})}, {name : "topic", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "meta", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "M", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("trackInternal")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21931, 21944)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("topic")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21945, 21950)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21952, 21955)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("meta")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21957, 21961)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21931, 21962)}, {expr : haxe.macro.ExprDef.EReturn({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("socket")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21976, 21982)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21969, 21982)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 21879, 21989)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AInline], doc : "Track presence and return socket for LiveView chaining pattern.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateUpdateWithSocket() {
		return {name : "updateWithSocket", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "T"}, {name : "M"}], args : [{name : "socket", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []})}, {name : "topic", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "meta", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "M", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("updateInternal")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 22768, 22782)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("topic")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 22783, 22788)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 22790, 22793)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("meta")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 22795, 22799)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 22768, 22800)}, {expr : haxe.macro.ExprDef.EReturn({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("socket")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 22814, 22820)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 22807, 22820)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 22715, 22827)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AInline], doc : "Update presence and return socket for LiveView chaining pattern.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}

	@:has_untyped
	static function generateUntrackWithSocket() {
		return {name : "untrackWithSocket", pos : haxe.macro.Context.currentPos(), kind : haxe.macro.FieldType.FFun({params : [{name : "T"}], args : [{name : "socket", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []})}, {name : "topic", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}, {name : "key", type : cast haxe.macro.ComplexType.TPath({pack : [], name : "String", params : []})}], ret : cast haxe.macro.ComplexType.TPath({pack : [], name : "T", params : []}), expr : cast {expr : haxe.macro.ExprDef.EBlock([{expr : haxe.macro.ExprDef.ECall({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("untrackInternal")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 23526, 23541)}, [{expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("topic")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 23542, 23547)}, {expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("key")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 23549, 23552)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 23526, 23553)}, {expr : haxe.macro.ExprDef.EReturn({expr : haxe.macro.ExprDef.EConst(haxe.macro.Constant.CIdent("socket")), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 23567, 23573)}), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 23560, 23573)}]), pos : $__mk_pos__("../../std/phoenix/macros/PresenceMacro.hx", 23472, 23580)}}), access : [haxe.macro.Access.APublic, haxe.macro.Access.AStatic, haxe.macro.Access.AInline], doc : "Untrack presence and return socket for LiveView chaining pattern.", meta : [{name : ":doc", pos : haxe.macro.Context.currentPos()}]};
	}
}