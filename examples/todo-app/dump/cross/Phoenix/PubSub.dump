@:realPath("phoenix.PubSub") @:native("Phoenix.PubSub")
extern class Phoenix.PubSub {

	static function subscribe(pubsub:Dynamic, topic:String):Dynamic;

	static function subscribeWithOptions(pubsub:phoenix.PubSubServer, topic:String, options:phoenix.PubSubOptions):haxe.functional.Result<Void, String>;

	static function broadcast<T>(pubsub:Dynamic, topic:String, message:broadcast.T):Dynamic;

	static function broadcastTo<T>(pubsub:phoenix.PubSubServer, topic:String, message:broadcastTo.T):haxe.functional.Result<Void, String>;

	static function broadcastFrom<T>(from:phoenix.ProcessId, topic:String, message:broadcastFrom.T):haxe.functional.Result<Void, String>;

	static function unsubscribe(topic:String):haxe.functional.Result<Void, String>;

	static function unsubscribeFrom(pubsub:phoenix.PubSubServer, topic:String):haxe.functional.Result<Void, String>;

	static function subscribers(topic:String):Array<phoenix.ProcessId>;

	static function localBroadcast<T>(topic:String, message:localBroadcast.T):haxe.functional.Result<Void, String>;

	static function subscriptionCount(topic:String):Int;
}